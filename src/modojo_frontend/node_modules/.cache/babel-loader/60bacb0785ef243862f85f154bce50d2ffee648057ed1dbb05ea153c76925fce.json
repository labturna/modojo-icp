{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ArrayNavigator } from './navigator.js';\nexport class HistoryNavigator {\n  constructor() {\n    let history = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    this._initialize(history);\n    this._limit = limit;\n    this._onChange();\n  }\n  getHistory() {\n    return this._elements;\n  }\n  add(t) {\n    this._history.delete(t);\n    this._history.add(t);\n    this._onChange();\n  }\n  next() {\n    // This will navigate past the end of the last element, and in that case the input should be cleared\n    return this._navigator.next();\n  }\n  previous() {\n    if (this._currentPosition() !== 0) {\n      return this._navigator.previous();\n    }\n    return null;\n  }\n  current() {\n    return this._navigator.current();\n  }\n  first() {\n    return this._navigator.first();\n  }\n  last() {\n    return this._navigator.last();\n  }\n  isLast() {\n    return this._currentPosition() >= this._elements.length - 1;\n  }\n  isNowhere() {\n    return this._navigator.current() === null;\n  }\n  has(t) {\n    return this._history.has(t);\n  }\n  _onChange() {\n    this._reduceToLimit();\n    const elements = this._elements;\n    this._navigator = new ArrayNavigator(elements, 0, elements.length, elements.length);\n  }\n  _reduceToLimit() {\n    const data = this._elements;\n    if (data.length > this._limit) {\n      this._initialize(data.slice(data.length - this._limit));\n    }\n  }\n  _currentPosition() {\n    const currentElement = this._navigator.current();\n    if (!currentElement) {\n      return -1;\n    }\n    return this._elements.indexOf(currentElement);\n  }\n  _initialize(history) {\n    this._history = new Set();\n    for (const entry of history) {\n      this._history.add(entry);\n    }\n  }\n  get _elements() {\n    const elements = [];\n    this._history.forEach(e => elements.push(e));\n    return elements;\n  }\n}","map":{"version":3,"names":["ArrayNavigator","HistoryNavigator","constructor","history","arguments","length","undefined","limit","_initialize","_limit","_onChange","getHistory","_elements","add","t","_history","delete","next","_navigator","previous","_currentPosition","current","first","last","isLast","isNowhere","has","_reduceToLimit","elements","data","slice","currentElement","indexOf","Set","entry","forEach","e","push"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/base/common/history.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ArrayNavigator } from './navigator.js';\nexport class HistoryNavigator {\n    constructor(history = [], limit = 10) {\n        this._initialize(history);\n        this._limit = limit;\n        this._onChange();\n    }\n    getHistory() {\n        return this._elements;\n    }\n    add(t) {\n        this._history.delete(t);\n        this._history.add(t);\n        this._onChange();\n    }\n    next() {\n        // This will navigate past the end of the last element, and in that case the input should be cleared\n        return this._navigator.next();\n    }\n    previous() {\n        if (this._currentPosition() !== 0) {\n            return this._navigator.previous();\n        }\n        return null;\n    }\n    current() {\n        return this._navigator.current();\n    }\n    first() {\n        return this._navigator.first();\n    }\n    last() {\n        return this._navigator.last();\n    }\n    isLast() {\n        return this._currentPosition() >= this._elements.length - 1;\n    }\n    isNowhere() {\n        return this._navigator.current() === null;\n    }\n    has(t) {\n        return this._history.has(t);\n    }\n    _onChange() {\n        this._reduceToLimit();\n        const elements = this._elements;\n        this._navigator = new ArrayNavigator(elements, 0, elements.length, elements.length);\n    }\n    _reduceToLimit() {\n        const data = this._elements;\n        if (data.length > this._limit) {\n            this._initialize(data.slice(data.length - this._limit));\n        }\n    }\n    _currentPosition() {\n        const currentElement = this._navigator.current();\n        if (!currentElement) {\n            return -1;\n        }\n        return this._elements.indexOf(currentElement);\n    }\n    _initialize(history) {\n        this._history = new Set();\n        for (const entry of history) {\n            this._history.add(entry);\n        }\n    }\n    get _elements() {\n        const elements = [];\n        this._history.forEach(e => elements.push(e));\n        return elements;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}