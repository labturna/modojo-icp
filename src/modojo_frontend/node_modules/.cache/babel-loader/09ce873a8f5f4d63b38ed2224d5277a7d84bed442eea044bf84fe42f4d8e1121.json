{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n  if (e.charCode) {\n    // \"keypress\" events mostly\n    const char = String.fromCharCode(e.charCode).toUpperCase();\n    return KeyCodeUtils.fromString(char);\n  }\n  const keyCode = e.keyCode;\n  // browser quirks\n  if (keyCode === 3) {\n    return 7 /* KeyCode.PauseBreak */;\n  } else if (browser.isFirefox) {\n    switch (keyCode) {\n      case 59:\n        return 85 /* KeyCode.Semicolon */;\n      case 60:\n        if (platform.isLinux) {\n          return 97 /* KeyCode.IntlBackslash */;\n        }\n        break;\n      case 61:\n        return 86 /* KeyCode.Equal */;\n      // based on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#numpad_keys\n      case 107:\n        return 109 /* KeyCode.NumpadAdd */;\n      case 109:\n        return 111 /* KeyCode.NumpadSubtract */;\n      case 173:\n        return 88 /* KeyCode.Minus */;\n      case 224:\n        if (platform.isMacintosh) {\n          return 57 /* KeyCode.Meta */;\n        }\n        break;\n    }\n  } else if (browser.isWebKit) {\n    if (platform.isMacintosh && keyCode === 93) {\n      // the two meta keys in the Mac have different key codes (91 and 93)\n      return 57 /* KeyCode.Meta */;\n    } else if (!platform.isMacintosh && keyCode === 92) {\n      return 57 /* KeyCode.Meta */;\n    }\n  }\n  // cross browser keycodes:\n  return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */;\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */;\nexport class StandardKeyboardEvent {\n  constructor(source) {\n    var _a;\n    this._standardKeyboardEventBrand = true;\n    const e = source;\n    this.browserEvent = e;\n    this.target = e.target;\n    this.ctrlKey = e.ctrlKey;\n    this.shiftKey = e.shiftKey;\n    this.altKey = e.altKey;\n    this.metaKey = e.metaKey;\n    this.altGraphKey = (_a = e.getModifierState) === null || _a === void 0 ? void 0 : _a.call(e, 'AltGraph');\n    this.keyCode = extractKeyCode(e);\n    this.code = e.code;\n    // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n    this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n    this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n    this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n    this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n    this._asKeybinding = this._computeKeybinding();\n    this._asKeyCodeChord = this._computeKeyCodeChord();\n    // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n  }\n  preventDefault() {\n    if (this.browserEvent && this.browserEvent.preventDefault) {\n      this.browserEvent.preventDefault();\n    }\n  }\n  stopPropagation() {\n    if (this.browserEvent && this.browserEvent.stopPropagation) {\n      this.browserEvent.stopPropagation();\n    }\n  }\n  toKeyCodeChord() {\n    return this._asKeyCodeChord;\n  }\n  equals(other) {\n    return this._asKeybinding === other;\n  }\n  _computeKeybinding() {\n    let key = 0 /* KeyCode.Unknown */;\n    if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n      key = this.keyCode;\n    }\n    let result = 0;\n    if (this.ctrlKey) {\n      result |= ctrlKeyMod;\n    }\n    if (this.altKey) {\n      result |= altKeyMod;\n    }\n    if (this.shiftKey) {\n      result |= shiftKeyMod;\n    }\n    if (this.metaKey) {\n      result |= metaKeyMod;\n    }\n    result |= key;\n    return result;\n  }\n  _computeKeyCodeChord() {\n    let key = 0 /* KeyCode.Unknown */;\n    if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n      key = this.keyCode;\n    }\n    return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n  }\n}","map":{"version":3,"names":["browser","EVENT_KEY_CODE_MAP","KeyCodeUtils","KeyCodeChord","platform","extractKeyCode","e","charCode","char","String","fromCharCode","toUpperCase","fromString","keyCode","isFirefox","isLinux","isMacintosh","isWebKit","ctrlKeyMod","altKeyMod","shiftKeyMod","metaKeyMod","StandardKeyboardEvent","constructor","source","_a","_standardKeyboardEventBrand","browserEvent","target","ctrlKey","shiftKey","altKey","metaKey","altGraphKey","getModifierState","call","code","_asKeybinding","_computeKeybinding","_asKeyCodeChord","_computeKeyCodeChord","preventDefault","stopPropagation","toKeyCodeChord","equals","other","key","result"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n    if (e.charCode) {\n        // \"keypress\" events mostly\n        const char = String.fromCharCode(e.charCode).toUpperCase();\n        return KeyCodeUtils.fromString(char);\n    }\n    const keyCode = e.keyCode;\n    // browser quirks\n    if (keyCode === 3) {\n        return 7 /* KeyCode.PauseBreak */;\n    }\n    else if (browser.isFirefox) {\n        switch (keyCode) {\n            case 59: return 85 /* KeyCode.Semicolon */;\n            case 60:\n                if (platform.isLinux) {\n                    return 97 /* KeyCode.IntlBackslash */;\n                }\n                break;\n            case 61: return 86 /* KeyCode.Equal */;\n            // based on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#numpad_keys\n            case 107: return 109 /* KeyCode.NumpadAdd */;\n            case 109: return 111 /* KeyCode.NumpadSubtract */;\n            case 173: return 88 /* KeyCode.Minus */;\n            case 224:\n                if (platform.isMacintosh) {\n                    return 57 /* KeyCode.Meta */;\n                }\n                break;\n        }\n    }\n    else if (browser.isWebKit) {\n        if (platform.isMacintosh && keyCode === 93) {\n            // the two meta keys in the Mac have different key codes (91 and 93)\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (!platform.isMacintosh && keyCode === 92) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    // cross browser keycodes:\n    return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = (platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */);\nexport class StandardKeyboardEvent {\n    constructor(source) {\n        var _a;\n        this._standardKeyboardEventBrand = true;\n        const e = source;\n        this.browserEvent = e;\n        this.target = e.target;\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        this.altGraphKey = (_a = e.getModifierState) === null || _a === void 0 ? void 0 : _a.call(e, 'AltGraph');\n        this.keyCode = extractKeyCode(e);\n        this.code = e.code;\n        // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n        this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n        this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n        this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n        this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n        this._asKeybinding = this._computeKeybinding();\n        this._asKeyCodeChord = this._computeKeyCodeChord();\n        // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n    }\n    preventDefault() {\n        if (this.browserEvent && this.browserEvent.preventDefault) {\n            this.browserEvent.preventDefault();\n        }\n    }\n    stopPropagation() {\n        if (this.browserEvent && this.browserEvent.stopPropagation) {\n            this.browserEvent.stopPropagation();\n        }\n    }\n    toKeyCodeChord() {\n        return this._asKeyCodeChord;\n    }\n    equals(other) {\n        return this._asKeybinding === other;\n    }\n    _computeKeybinding() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        let result = 0;\n        if (this.ctrlKey) {\n            result |= ctrlKeyMod;\n        }\n        if (this.altKey) {\n            result |= altKeyMod;\n        }\n        if (this.shiftKey) {\n            result |= shiftKeyMod;\n        }\n        if (this.metaKey) {\n            result |= metaKeyMod;\n        }\n        result |= key;\n        return result;\n    }\n    _computeKeyCodeChord() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}