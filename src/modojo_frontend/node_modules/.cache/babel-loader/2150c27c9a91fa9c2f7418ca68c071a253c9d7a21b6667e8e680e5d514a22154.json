{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nlet SectionHeaderDetector = class SectionHeaderDetector extends Disposable {\n  constructor(editor, languageConfigurationService, editorWorkerService) {\n    super();\n    this.editor = editor;\n    this.languageConfigurationService = languageConfigurationService;\n    this.editorWorkerService = editorWorkerService;\n    this.decorations = this.editor.createDecorationsCollection();\n    this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n    this.computePromise = null;\n    this.currentOccurrences = {};\n    this._register(editor.onDidChangeModel(e => {\n      this.currentOccurrences = {};\n      this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n      this.stop();\n      this.computeSectionHeaders.schedule(0);\n    }));\n    this._register(editor.onDidChangeModelLanguage(e => {\n      this.currentOccurrences = {};\n      this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n      this.stop();\n      this.computeSectionHeaders.schedule(0);\n    }));\n    this._register(languageConfigurationService.onDidChange(e => {\n      var _a;\n      const editorLanguageId = (_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getLanguageId();\n      if (editorLanguageId && e.affects(editorLanguageId)) {\n        this.currentOccurrences = {};\n        this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n        this.stop();\n        this.computeSectionHeaders.schedule(0);\n      }\n    }));\n    this._register(editor.onDidChangeConfiguration(e => {\n      if (this.options && !e.hasChanged(73 /* EditorOption.minimap */)) {\n        return;\n      }\n      this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n      // Remove any links (for the getting disabled case)\n      this.updateDecorations([]);\n      // Stop any computation (for the getting disabled case)\n      this.stop();\n      // Start computing (for the getting enabled case)\n      this.computeSectionHeaders.schedule(0);\n    }));\n    this._register(this.editor.onDidChangeModelContent(e => {\n      this.computeSectionHeaders.schedule();\n    }));\n    this._register(editor.onDidChangeModelTokens(e => {\n      if (!this.computeSectionHeaders.isScheduled()) {\n        this.computeSectionHeaders.schedule(1000);\n      }\n    }));\n    this.computeSectionHeaders = this._register(new RunOnceScheduler(() => {\n      this.findSectionHeaders();\n    }, 250));\n    this.computeSectionHeaders.schedule(0);\n  }\n  createOptions(minimap) {\n    if (!minimap || !this.editor.hasModel()) {\n      return undefined;\n    }\n    const languageId = this.editor.getModel().getLanguageId();\n    if (!languageId) {\n      return undefined;\n    }\n    const commentsConfiguration = this.languageConfigurationService.getLanguageConfiguration(languageId).comments;\n    const foldingRules = this.languageConfigurationService.getLanguageConfiguration(languageId).foldingRules;\n    if (!commentsConfiguration && !(foldingRules === null || foldingRules === void 0 ? void 0 : foldingRules.markers)) {\n      return undefined;\n    }\n    return {\n      foldingRules,\n      findMarkSectionHeaders: minimap.showMarkSectionHeaders,\n      findRegionSectionHeaders: minimap.showRegionSectionHeaders\n    };\n  }\n  findSectionHeaders() {\n    var _a, _b;\n    if (!this.editor.hasModel() || !((_a = this.options) === null || _a === void 0 ? void 0 : _a.findMarkSectionHeaders) && !((_b = this.options) === null || _b === void 0 ? void 0 : _b.findRegionSectionHeaders)) {\n      return;\n    }\n    const model = this.editor.getModel();\n    if (model.isDisposed() || model.isTooLargeForSyncing()) {\n      return;\n    }\n    const modelVersionId = model.getVersionId();\n    this.editorWorkerService.findSectionHeaders(model.uri, this.options).then(sectionHeaders => {\n      if (model.isDisposed() || model.getVersionId() !== modelVersionId) {\n        // model changed in the meantime\n        return;\n      }\n      this.updateDecorations(sectionHeaders);\n    });\n  }\n  updateDecorations(sectionHeaders) {\n    const model = this.editor.getModel();\n    if (model) {\n      // Remove all section headers that should be in comments and are not in comments\n      sectionHeaders = sectionHeaders.filter(sectionHeader => {\n        if (!sectionHeader.shouldBeInComments) {\n          return true;\n        }\n        const validRange = model.validateRange(sectionHeader.range);\n        const tokens = model.tokenization.getLineTokens(validRange.startLineNumber);\n        const idx = tokens.findTokenIndexAtOffset(validRange.startColumn - 1);\n        const tokenType = tokens.getStandardTokenType(idx);\n        const languageId = tokens.getLanguageId(idx);\n        return languageId === model.getLanguageId() && tokenType === 1 /* StandardTokenType.Comment */;\n      });\n    }\n    const oldDecorations = Object.values(this.currentOccurrences).map(occurrence => occurrence.decorationId);\n    const newDecorations = sectionHeaders.map(sectionHeader => decoration(sectionHeader));\n    this.editor.changeDecorations(changeAccessor => {\n      const decorations = changeAccessor.deltaDecorations(oldDecorations, newDecorations);\n      this.currentOccurrences = {};\n      for (let i = 0, len = decorations.length; i < len; i++) {\n        const occurrence = {\n          sectionHeader: sectionHeaders[i],\n          decorationId: decorations[i]\n        };\n        this.currentOccurrences[occurrence.decorationId] = occurrence;\n      }\n    });\n  }\n  stop() {\n    this.computeSectionHeaders.cancel();\n    if (this.computePromise) {\n      this.computePromise.cancel();\n      this.computePromise = null;\n    }\n  }\n  dispose() {\n    super.dispose();\n    this.stop();\n    this.decorations.clear();\n  }\n};\nSectionHeaderDetector.ID = 'editor.sectionHeaderDetector';\nSectionHeaderDetector = __decorate([__param(1, ILanguageConfigurationService), __param(2, IEditorWorkerService)], SectionHeaderDetector);\nexport { SectionHeaderDetector };\nfunction decoration(sectionHeader) {\n  return {\n    range: sectionHeader.range,\n    options: ModelDecorationOptions.createDynamic({\n      description: 'section-header',\n      stickiness: 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */,\n      collapseOnReplaceEdit: true,\n      minimap: {\n        color: undefined,\n        position: 1 /* MinimapPosition.Inline */,\n        sectionHeaderStyle: sectionHeader.hasSeparatorLine ? 2 /* MinimapSectionHeaderStyle.Underlined */ : 1 /* MinimapSectionHeaderStyle.Normal */,\n        sectionHeaderText: sectionHeader.text\n      }\n    })\n  };\n}\nregisterEditorContribution(SectionHeaderDetector.ID, SectionHeaderDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","RunOnceScheduler","Disposable","registerEditorContribution","ILanguageConfigurationService","ModelDecorationOptions","IEditorWorkerService","SectionHeaderDetector","constructor","editor","languageConfigurationService","editorWorkerService","decorations","createDecorationsCollection","options","createOptions","getOption","computePromise","currentOccurrences","_register","onDidChangeModel","e","stop","computeSectionHeaders","schedule","onDidChangeModelLanguage","onDidChange","_a","editorLanguageId","getModel","getLanguageId","affects","onDidChangeConfiguration","hasChanged","updateDecorations","onDidChangeModelContent","onDidChangeModelTokens","isScheduled","findSectionHeaders","minimap","hasModel","undefined","languageId","commentsConfiguration","getLanguageConfiguration","comments","foldingRules","markers","findMarkSectionHeaders","showMarkSectionHeaders","findRegionSectionHeaders","showRegionSectionHeaders","_b","model","isDisposed","isTooLargeForSyncing","modelVersionId","getVersionId","uri","then","sectionHeaders","filter","sectionHeader","shouldBeInComments","validRange","validateRange","range","tokens","tokenization","getLineTokens","startLineNumber","idx","findTokenIndexAtOffset","startColumn","tokenType","getStandardTokenType","oldDecorations","values","map","occurrence","decorationId","newDecorations","decoration","changeDecorations","changeAccessor","deltaDecorations","len","cancel","dispose","clear","ID","createDynamic","description","stickiness","collapseOnReplaceEdit","color","position","sectionHeaderStyle","hasSeparatorLine","sectionHeaderText","text"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/editor/contrib/sectionHeaders/browser/sectionHeaders.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nlet SectionHeaderDetector = class SectionHeaderDetector extends Disposable {\n    constructor(editor, languageConfigurationService, editorWorkerService) {\n        super();\n        this.editor = editor;\n        this.languageConfigurationService = languageConfigurationService;\n        this.editorWorkerService = editorWorkerService;\n        this.decorations = this.editor.createDecorationsCollection();\n        this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n        this.computePromise = null;\n        this.currentOccurrences = {};\n        this._register(editor.onDidChangeModel((e) => {\n            this.currentOccurrences = {};\n            this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n            this.stop();\n            this.computeSectionHeaders.schedule(0);\n        }));\n        this._register(editor.onDidChangeModelLanguage((e) => {\n            this.currentOccurrences = {};\n            this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n            this.stop();\n            this.computeSectionHeaders.schedule(0);\n        }));\n        this._register(languageConfigurationService.onDidChange((e) => {\n            var _a;\n            const editorLanguageId = (_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getLanguageId();\n            if (editorLanguageId && e.affects(editorLanguageId)) {\n                this.currentOccurrences = {};\n                this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n                this.stop();\n                this.computeSectionHeaders.schedule(0);\n            }\n        }));\n        this._register(editor.onDidChangeConfiguration(e => {\n            if (this.options && !e.hasChanged(73 /* EditorOption.minimap */)) {\n                return;\n            }\n            this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n            // Remove any links (for the getting disabled case)\n            this.updateDecorations([]);\n            // Stop any computation (for the getting disabled case)\n            this.stop();\n            // Start computing (for the getting enabled case)\n            this.computeSectionHeaders.schedule(0);\n        }));\n        this._register(this.editor.onDidChangeModelContent(e => {\n            this.computeSectionHeaders.schedule();\n        }));\n        this._register(editor.onDidChangeModelTokens((e) => {\n            if (!this.computeSectionHeaders.isScheduled()) {\n                this.computeSectionHeaders.schedule(1000);\n            }\n        }));\n        this.computeSectionHeaders = this._register(new RunOnceScheduler(() => {\n            this.findSectionHeaders();\n        }, 250));\n        this.computeSectionHeaders.schedule(0);\n    }\n    createOptions(minimap) {\n        if (!minimap || !this.editor.hasModel()) {\n            return undefined;\n        }\n        const languageId = this.editor.getModel().getLanguageId();\n        if (!languageId) {\n            return undefined;\n        }\n        const commentsConfiguration = this.languageConfigurationService.getLanguageConfiguration(languageId).comments;\n        const foldingRules = this.languageConfigurationService.getLanguageConfiguration(languageId).foldingRules;\n        if (!commentsConfiguration && !(foldingRules === null || foldingRules === void 0 ? void 0 : foldingRules.markers)) {\n            return undefined;\n        }\n        return {\n            foldingRules,\n            findMarkSectionHeaders: minimap.showMarkSectionHeaders,\n            findRegionSectionHeaders: minimap.showRegionSectionHeaders,\n        };\n    }\n    findSectionHeaders() {\n        var _a, _b;\n        if (!this.editor.hasModel()\n            || (!((_a = this.options) === null || _a === void 0 ? void 0 : _a.findMarkSectionHeaders) && !((_b = this.options) === null || _b === void 0 ? void 0 : _b.findRegionSectionHeaders))) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (model.isDisposed() || model.isTooLargeForSyncing()) {\n            return;\n        }\n        const modelVersionId = model.getVersionId();\n        this.editorWorkerService.findSectionHeaders(model.uri, this.options)\n            .then((sectionHeaders) => {\n            if (model.isDisposed() || model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this.updateDecorations(sectionHeaders);\n        });\n    }\n    updateDecorations(sectionHeaders) {\n        const model = this.editor.getModel();\n        if (model) {\n            // Remove all section headers that should be in comments and are not in comments\n            sectionHeaders = sectionHeaders.filter((sectionHeader) => {\n                if (!sectionHeader.shouldBeInComments) {\n                    return true;\n                }\n                const validRange = model.validateRange(sectionHeader.range);\n                const tokens = model.tokenization.getLineTokens(validRange.startLineNumber);\n                const idx = tokens.findTokenIndexAtOffset(validRange.startColumn - 1);\n                const tokenType = tokens.getStandardTokenType(idx);\n                const languageId = tokens.getLanguageId(idx);\n                return (languageId === model.getLanguageId() && tokenType === 1 /* StandardTokenType.Comment */);\n            });\n        }\n        const oldDecorations = Object.values(this.currentOccurrences).map(occurrence => occurrence.decorationId);\n        const newDecorations = sectionHeaders.map(sectionHeader => decoration(sectionHeader));\n        this.editor.changeDecorations((changeAccessor) => {\n            const decorations = changeAccessor.deltaDecorations(oldDecorations, newDecorations);\n            this.currentOccurrences = {};\n            for (let i = 0, len = decorations.length; i < len; i++) {\n                const occurrence = { sectionHeader: sectionHeaders[i], decorationId: decorations[i] };\n                this.currentOccurrences[occurrence.decorationId] = occurrence;\n            }\n        });\n    }\n    stop() {\n        this.computeSectionHeaders.cancel();\n        if (this.computePromise) {\n            this.computePromise.cancel();\n            this.computePromise = null;\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.stop();\n        this.decorations.clear();\n    }\n};\nSectionHeaderDetector.ID = 'editor.sectionHeaderDetector';\nSectionHeaderDetector = __decorate([\n    __param(1, ILanguageConfigurationService),\n    __param(2, IEditorWorkerService)\n], SectionHeaderDetector);\nexport { SectionHeaderDetector };\nfunction decoration(sectionHeader) {\n    return {\n        range: sectionHeader.range,\n        options: ModelDecorationOptions.createDynamic({\n            description: 'section-header',\n            stickiness: 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */,\n            collapseOnReplaceEdit: true,\n            minimap: {\n                color: undefined,\n                position: 1 /* MinimapPosition.Inline */,\n                sectionHeaderStyle: sectionHeader.hasSeparatorLine ? 2 /* MinimapSectionHeaderStyle.Underlined */ : 1 /* MinimapSectionHeaderStyle.Normal */,\n                sectionHeaderText: sectionHeader.text,\n            },\n        })\n    };\n}\nregisterEditorContribution(SectionHeaderDetector.ID, SectionHeaderDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}