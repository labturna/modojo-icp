{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { regExpLeadsToEndlessLoop } from '../../../base/common/strings.js';\nimport { clearPlatformLanguageAssociations, getLanguageIds, registerPlatformLanguageAssociation } from './languagesAssociations.js';\nimport { ModesRegistry, PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { Extensions } from '../../../platform/configuration/common/configurationRegistry.js';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst NULL_LANGUAGE_ID = 'vs.editor.nullLanguage';\nexport class LanguageIdCodec {\n  constructor() {\n    this._languageIdToLanguage = [];\n    this._languageToLanguageId = new Map();\n    this._register(NULL_LANGUAGE_ID, 0 /* LanguageId.Null */);\n    this._register(PLAINTEXT_LANGUAGE_ID, 1 /* LanguageId.PlainText */);\n    this._nextLanguageId = 2;\n  }\n  _register(language, languageId) {\n    this._languageIdToLanguage[languageId] = language;\n    this._languageToLanguageId.set(language, languageId);\n  }\n  register(language) {\n    if (this._languageToLanguageId.has(language)) {\n      return;\n    }\n    const languageId = this._nextLanguageId++;\n    this._register(language, languageId);\n  }\n  encodeLanguageId(languageId) {\n    return this._languageToLanguageId.get(languageId) || 0 /* LanguageId.Null */;\n  }\n  decodeLanguageId(languageId) {\n    return this._languageIdToLanguage[languageId] || NULL_LANGUAGE_ID;\n  }\n}\nexport class LanguagesRegistry extends Disposable {\n  constructor() {\n    let useModesRegistry = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    let warnOnOverwrite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    super();\n    this._onDidChange = this._register(new Emitter());\n    this.onDidChange = this._onDidChange.event;\n    LanguagesRegistry.instanceCount++;\n    this._warnOnOverwrite = warnOnOverwrite;\n    this.languageIdCodec = new LanguageIdCodec();\n    this._dynamicLanguages = [];\n    this._languages = {};\n    this._mimeTypesMap = {};\n    this._nameMap = {};\n    this._lowercaseNameMap = {};\n    if (useModesRegistry) {\n      this._initializeFromRegistry();\n      this._register(ModesRegistry.onDidChangeLanguages(m => {\n        this._initializeFromRegistry();\n      }));\n    }\n  }\n  dispose() {\n    LanguagesRegistry.instanceCount--;\n    super.dispose();\n  }\n  _initializeFromRegistry() {\n    this._languages = {};\n    this._mimeTypesMap = {};\n    this._nameMap = {};\n    this._lowercaseNameMap = {};\n    clearPlatformLanguageAssociations();\n    const desc = [].concat(ModesRegistry.getLanguages()).concat(this._dynamicLanguages);\n    this._registerLanguages(desc);\n  }\n  _registerLanguages(desc) {\n    for (const d of desc) {\n      this._registerLanguage(d);\n    }\n    // Rebuild fast path maps\n    this._mimeTypesMap = {};\n    this._nameMap = {};\n    this._lowercaseNameMap = {};\n    Object.keys(this._languages).forEach(langId => {\n      const language = this._languages[langId];\n      if (language.name) {\n        this._nameMap[language.name] = language.identifier;\n      }\n      language.aliases.forEach(alias => {\n        this._lowercaseNameMap[alias.toLowerCase()] = language.identifier;\n      });\n      language.mimetypes.forEach(mimetype => {\n        this._mimeTypesMap[mimetype] = language.identifier;\n      });\n    });\n    Registry.as(Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds());\n    this._onDidChange.fire();\n  }\n  _registerLanguage(lang) {\n    const langId = lang.id;\n    let resolvedLanguage;\n    if (hasOwnProperty.call(this._languages, langId)) {\n      resolvedLanguage = this._languages[langId];\n    } else {\n      this.languageIdCodec.register(langId);\n      resolvedLanguage = {\n        identifier: langId,\n        name: null,\n        mimetypes: [],\n        aliases: [],\n        extensions: [],\n        filenames: [],\n        configurationFiles: [],\n        icons: []\n      };\n      this._languages[langId] = resolvedLanguage;\n    }\n    this._mergeLanguage(resolvedLanguage, lang);\n  }\n  _mergeLanguage(resolvedLanguage, lang) {\n    const langId = lang.id;\n    let primaryMime = null;\n    if (Array.isArray(lang.mimetypes) && lang.mimetypes.length > 0) {\n      resolvedLanguage.mimetypes.push(...lang.mimetypes);\n      primaryMime = lang.mimetypes[0];\n    }\n    if (!primaryMime) {\n      primaryMime = `text/x-${langId}`;\n      resolvedLanguage.mimetypes.push(primaryMime);\n    }\n    if (Array.isArray(lang.extensions)) {\n      if (lang.configuration) {\n        // insert first as this appears to be the 'primary' language definition\n        resolvedLanguage.extensions = lang.extensions.concat(resolvedLanguage.extensions);\n      } else {\n        resolvedLanguage.extensions = resolvedLanguage.extensions.concat(lang.extensions);\n      }\n      for (const extension of lang.extensions) {\n        registerPlatformLanguageAssociation({\n          id: langId,\n          mime: primaryMime,\n          extension: extension\n        }, this._warnOnOverwrite);\n      }\n    }\n    if (Array.isArray(lang.filenames)) {\n      for (const filename of lang.filenames) {\n        registerPlatformLanguageAssociation({\n          id: langId,\n          mime: primaryMime,\n          filename: filename\n        }, this._warnOnOverwrite);\n        resolvedLanguage.filenames.push(filename);\n      }\n    }\n    if (Array.isArray(lang.filenamePatterns)) {\n      for (const filenamePattern of lang.filenamePatterns) {\n        registerPlatformLanguageAssociation({\n          id: langId,\n          mime: primaryMime,\n          filepattern: filenamePattern\n        }, this._warnOnOverwrite);\n      }\n    }\n    if (typeof lang.firstLine === 'string' && lang.firstLine.length > 0) {\n      let firstLineRegexStr = lang.firstLine;\n      if (firstLineRegexStr.charAt(0) !== '^') {\n        firstLineRegexStr = '^' + firstLineRegexStr;\n      }\n      try {\n        const firstLineRegex = new RegExp(firstLineRegexStr);\n        if (!regExpLeadsToEndlessLoop(firstLineRegex)) {\n          registerPlatformLanguageAssociation({\n            id: langId,\n            mime: primaryMime,\n            firstline: firstLineRegex\n          }, this._warnOnOverwrite);\n        }\n      } catch (err) {\n        // Most likely, the regex was bad\n        console.warn(`[${lang.id}]: Invalid regular expression \\`${firstLineRegexStr}\\`: `, err);\n      }\n    }\n    resolvedLanguage.aliases.push(langId);\n    let langAliases = null;\n    if (typeof lang.aliases !== 'undefined' && Array.isArray(lang.aliases)) {\n      if (lang.aliases.length === 0) {\n        // signal that this language should not get a name\n        langAliases = [null];\n      } else {\n        langAliases = lang.aliases;\n      }\n    }\n    if (langAliases !== null) {\n      for (const langAlias of langAliases) {\n        if (!langAlias || langAlias.length === 0) {\n          continue;\n        }\n        resolvedLanguage.aliases.push(langAlias);\n      }\n    }\n    const containsAliases = langAliases !== null && langAliases.length > 0;\n    if (containsAliases && langAliases[0] === null) {\n      // signal that this language should not get a name\n    } else {\n      const bestName = (containsAliases ? langAliases[0] : null) || langId;\n      if (containsAliases || !resolvedLanguage.name) {\n        resolvedLanguage.name = bestName;\n      }\n    }\n    if (lang.configuration) {\n      resolvedLanguage.configurationFiles.push(lang.configuration);\n    }\n    if (lang.icon) {\n      resolvedLanguage.icons.push(lang.icon);\n    }\n  }\n  isRegisteredLanguageId(languageId) {\n    if (!languageId) {\n      return false;\n    }\n    return hasOwnProperty.call(this._languages, languageId);\n  }\n  getRegisteredLanguageIds() {\n    return Object.keys(this._languages);\n  }\n  getLanguageIdByLanguageName(languageName) {\n    const languageNameLower = languageName.toLowerCase();\n    if (!hasOwnProperty.call(this._lowercaseNameMap, languageNameLower)) {\n      return null;\n    }\n    return this._lowercaseNameMap[languageNameLower];\n  }\n  getLanguageIdByMimeType(mimeType) {\n    if (!mimeType) {\n      return null;\n    }\n    if (hasOwnProperty.call(this._mimeTypesMap, mimeType)) {\n      return this._mimeTypesMap[mimeType];\n    }\n    return null;\n  }\n  guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n    if (!resource && !firstLine) {\n      return [];\n    }\n    return getLanguageIds(resource, firstLine);\n  }\n}\nLanguagesRegistry.instanceCount = 0;","map":{"version":3,"names":["Emitter","Disposable","regExpLeadsToEndlessLoop","clearPlatformLanguageAssociations","getLanguageIds","registerPlatformLanguageAssociation","ModesRegistry","PLAINTEXT_LANGUAGE_ID","Extensions","Registry","hasOwnProperty","Object","prototype","NULL_LANGUAGE_ID","LanguageIdCodec","constructor","_languageIdToLanguage","_languageToLanguageId","Map","_register","_nextLanguageId","language","languageId","set","register","has","encodeLanguageId","get","decodeLanguageId","LanguagesRegistry","useModesRegistry","arguments","length","undefined","warnOnOverwrite","_onDidChange","onDidChange","event","instanceCount","_warnOnOverwrite","languageIdCodec","_dynamicLanguages","_languages","_mimeTypesMap","_nameMap","_lowercaseNameMap","_initializeFromRegistry","onDidChangeLanguages","m","dispose","desc","concat","getLanguages","_registerLanguages","d","_registerLanguage","keys","forEach","langId","name","identifier","aliases","alias","toLowerCase","mimetypes","mimetype","as","Configuration","registerOverrideIdentifiers","getRegisteredLanguageIds","fire","lang","id","resolvedLanguage","call","extensions","filenames","configurationFiles","icons","_mergeLanguage","primaryMime","Array","isArray","push","configuration","extension","mime","filename","filenamePatterns","filenamePattern","filepattern","firstLine","firstLineRegexStr","charAt","firstLineRegex","RegExp","firstline","err","console","warn","langAliases","langAlias","containsAliases","bestName","icon","isRegisteredLanguageId","getLanguageIdByLanguageName","languageName","languageNameLower","getLanguageIdByMimeType","mimeType","guessLanguageIdByFilepathOrFirstLine","resource"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { regExpLeadsToEndlessLoop } from '../../../base/common/strings.js';\nimport { clearPlatformLanguageAssociations, getLanguageIds, registerPlatformLanguageAssociation } from './languagesAssociations.js';\nimport { ModesRegistry, PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { Extensions } from '../../../platform/configuration/common/configurationRegistry.js';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst NULL_LANGUAGE_ID = 'vs.editor.nullLanguage';\nexport class LanguageIdCodec {\n    constructor() {\n        this._languageIdToLanguage = [];\n        this._languageToLanguageId = new Map();\n        this._register(NULL_LANGUAGE_ID, 0 /* LanguageId.Null */);\n        this._register(PLAINTEXT_LANGUAGE_ID, 1 /* LanguageId.PlainText */);\n        this._nextLanguageId = 2;\n    }\n    _register(language, languageId) {\n        this._languageIdToLanguage[languageId] = language;\n        this._languageToLanguageId.set(language, languageId);\n    }\n    register(language) {\n        if (this._languageToLanguageId.has(language)) {\n            return;\n        }\n        const languageId = this._nextLanguageId++;\n        this._register(language, languageId);\n    }\n    encodeLanguageId(languageId) {\n        return this._languageToLanguageId.get(languageId) || 0 /* LanguageId.Null */;\n    }\n    decodeLanguageId(languageId) {\n        return this._languageIdToLanguage[languageId] || NULL_LANGUAGE_ID;\n    }\n}\nexport class LanguagesRegistry extends Disposable {\n    constructor(useModesRegistry = true, warnOnOverwrite = false) {\n        super();\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        LanguagesRegistry.instanceCount++;\n        this._warnOnOverwrite = warnOnOverwrite;\n        this.languageIdCodec = new LanguageIdCodec();\n        this._dynamicLanguages = [];\n        this._languages = {};\n        this._mimeTypesMap = {};\n        this._nameMap = {};\n        this._lowercaseNameMap = {};\n        if (useModesRegistry) {\n            this._initializeFromRegistry();\n            this._register(ModesRegistry.onDidChangeLanguages((m) => {\n                this._initializeFromRegistry();\n            }));\n        }\n    }\n    dispose() {\n        LanguagesRegistry.instanceCount--;\n        super.dispose();\n    }\n    _initializeFromRegistry() {\n        this._languages = {};\n        this._mimeTypesMap = {};\n        this._nameMap = {};\n        this._lowercaseNameMap = {};\n        clearPlatformLanguageAssociations();\n        const desc = [].concat(ModesRegistry.getLanguages()).concat(this._dynamicLanguages);\n        this._registerLanguages(desc);\n    }\n    _registerLanguages(desc) {\n        for (const d of desc) {\n            this._registerLanguage(d);\n        }\n        // Rebuild fast path maps\n        this._mimeTypesMap = {};\n        this._nameMap = {};\n        this._lowercaseNameMap = {};\n        Object.keys(this._languages).forEach((langId) => {\n            const language = this._languages[langId];\n            if (language.name) {\n                this._nameMap[language.name] = language.identifier;\n            }\n            language.aliases.forEach((alias) => {\n                this._lowercaseNameMap[alias.toLowerCase()] = language.identifier;\n            });\n            language.mimetypes.forEach((mimetype) => {\n                this._mimeTypesMap[mimetype] = language.identifier;\n            });\n        });\n        Registry.as(Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds());\n        this._onDidChange.fire();\n    }\n    _registerLanguage(lang) {\n        const langId = lang.id;\n        let resolvedLanguage;\n        if (hasOwnProperty.call(this._languages, langId)) {\n            resolvedLanguage = this._languages[langId];\n        }\n        else {\n            this.languageIdCodec.register(langId);\n            resolvedLanguage = {\n                identifier: langId,\n                name: null,\n                mimetypes: [],\n                aliases: [],\n                extensions: [],\n                filenames: [],\n                configurationFiles: [],\n                icons: []\n            };\n            this._languages[langId] = resolvedLanguage;\n        }\n        this._mergeLanguage(resolvedLanguage, lang);\n    }\n    _mergeLanguage(resolvedLanguage, lang) {\n        const langId = lang.id;\n        let primaryMime = null;\n        if (Array.isArray(lang.mimetypes) && lang.mimetypes.length > 0) {\n            resolvedLanguage.mimetypes.push(...lang.mimetypes);\n            primaryMime = lang.mimetypes[0];\n        }\n        if (!primaryMime) {\n            primaryMime = `text/x-${langId}`;\n            resolvedLanguage.mimetypes.push(primaryMime);\n        }\n        if (Array.isArray(lang.extensions)) {\n            if (lang.configuration) {\n                // insert first as this appears to be the 'primary' language definition\n                resolvedLanguage.extensions = lang.extensions.concat(resolvedLanguage.extensions);\n            }\n            else {\n                resolvedLanguage.extensions = resolvedLanguage.extensions.concat(lang.extensions);\n            }\n            for (const extension of lang.extensions) {\n                registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, extension: extension }, this._warnOnOverwrite);\n            }\n        }\n        if (Array.isArray(lang.filenames)) {\n            for (const filename of lang.filenames) {\n                registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, filename: filename }, this._warnOnOverwrite);\n                resolvedLanguage.filenames.push(filename);\n            }\n        }\n        if (Array.isArray(lang.filenamePatterns)) {\n            for (const filenamePattern of lang.filenamePatterns) {\n                registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, filepattern: filenamePattern }, this._warnOnOverwrite);\n            }\n        }\n        if (typeof lang.firstLine === 'string' && lang.firstLine.length > 0) {\n            let firstLineRegexStr = lang.firstLine;\n            if (firstLineRegexStr.charAt(0) !== '^') {\n                firstLineRegexStr = '^' + firstLineRegexStr;\n            }\n            try {\n                const firstLineRegex = new RegExp(firstLineRegexStr);\n                if (!regExpLeadsToEndlessLoop(firstLineRegex)) {\n                    registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, firstline: firstLineRegex }, this._warnOnOverwrite);\n                }\n            }\n            catch (err) {\n                // Most likely, the regex was bad\n                console.warn(`[${lang.id}]: Invalid regular expression \\`${firstLineRegexStr}\\`: `, err);\n            }\n        }\n        resolvedLanguage.aliases.push(langId);\n        let langAliases = null;\n        if (typeof lang.aliases !== 'undefined' && Array.isArray(lang.aliases)) {\n            if (lang.aliases.length === 0) {\n                // signal that this language should not get a name\n                langAliases = [null];\n            }\n            else {\n                langAliases = lang.aliases;\n            }\n        }\n        if (langAliases !== null) {\n            for (const langAlias of langAliases) {\n                if (!langAlias || langAlias.length === 0) {\n                    continue;\n                }\n                resolvedLanguage.aliases.push(langAlias);\n            }\n        }\n        const containsAliases = (langAliases !== null && langAliases.length > 0);\n        if (containsAliases && langAliases[0] === null) {\n            // signal that this language should not get a name\n        }\n        else {\n            const bestName = (containsAliases ? langAliases[0] : null) || langId;\n            if (containsAliases || !resolvedLanguage.name) {\n                resolvedLanguage.name = bestName;\n            }\n        }\n        if (lang.configuration) {\n            resolvedLanguage.configurationFiles.push(lang.configuration);\n        }\n        if (lang.icon) {\n            resolvedLanguage.icons.push(lang.icon);\n        }\n    }\n    isRegisteredLanguageId(languageId) {\n        if (!languageId) {\n            return false;\n        }\n        return hasOwnProperty.call(this._languages, languageId);\n    }\n    getRegisteredLanguageIds() {\n        return Object.keys(this._languages);\n    }\n    getLanguageIdByLanguageName(languageName) {\n        const languageNameLower = languageName.toLowerCase();\n        if (!hasOwnProperty.call(this._lowercaseNameMap, languageNameLower)) {\n            return null;\n        }\n        return this._lowercaseNameMap[languageNameLower];\n    }\n    getLanguageIdByMimeType(mimeType) {\n        if (!mimeType) {\n            return null;\n        }\n        if (hasOwnProperty.call(this._mimeTypesMap, mimeType)) {\n            return this._mimeTypesMap[mimeType];\n        }\n        return null;\n    }\n    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n        if (!resource && !firstLine) {\n            return [];\n        }\n        return getLanguageIds(resource, firstLine);\n    }\n}\nLanguagesRegistry.instanceCount = 0;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}