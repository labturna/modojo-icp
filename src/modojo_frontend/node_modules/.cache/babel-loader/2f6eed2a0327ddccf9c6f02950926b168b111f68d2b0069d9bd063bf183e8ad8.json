{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar HoverController_1;\nimport { DECREASE_HOVER_VERBOSITY_ACTION_ID, INCREASE_HOVER_VERBOSITY_ACTION_ID, SHOW_OR_FOCUS_HOVER_ACTION_ID } from './hoverActionIds.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { ContentHoverWidget } from './contentHoverWidget.js';\nimport { ContentHoverController } from './contentHoverController.js';\nimport './hover.css';\nimport { MarginHoverWidget } from './marginHoverWidget.js';\nimport { Emitter } from '../../../../base/common/event.js';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet HoverController = HoverController_1 = class HoverController extends Disposable {\n  constructor(_editor, _instantiationService, _keybindingService) {\n    super();\n    this._editor = _editor;\n    this._instantiationService = _instantiationService;\n    this._keybindingService = _keybindingService;\n    this._onHoverContentsChanged = this._register(new Emitter());\n    this.shouldKeepOpenOnEditorMouseMoveOrLeave = false;\n    this._listenersStore = new DisposableStore();\n    this._hoverState = {\n      mouseDown: false,\n      activatedByDecoratorClick: false\n    };\n    this._reactToEditorMouseMoveRunner = this._register(new RunOnceScheduler(() => this._reactToEditorMouseMove(this._mouseMoveEvent), 0));\n    this._hookListeners();\n    this._register(this._editor.onDidChangeConfiguration(e => {\n      if (e.hasChanged(60 /* EditorOption.hover */)) {\n        this._unhookListeners();\n        this._hookListeners();\n      }\n    }));\n  }\n  static get(editor) {\n    return editor.getContribution(HoverController_1.ID);\n  }\n  _hookListeners() {\n    const hoverOpts = this._editor.getOption(60 /* EditorOption.hover */);\n    this._hoverSettings = {\n      enabled: hoverOpts.enabled,\n      sticky: hoverOpts.sticky,\n      hidingDelay: hoverOpts.delay\n    };\n    if (hoverOpts.enabled) {\n      this._listenersStore.add(this._editor.onMouseDown(e => this._onEditorMouseDown(e)));\n      this._listenersStore.add(this._editor.onMouseUp(() => this._onEditorMouseUp()));\n      this._listenersStore.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._listenersStore.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    } else {\n      this._listenersStore.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._listenersStore.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    }\n    this._listenersStore.add(this._editor.onMouseLeave(e => this._onEditorMouseLeave(e)));\n    this._listenersStore.add(this._editor.onDidChangeModel(() => {\n      this._cancelScheduler();\n      this._hideWidgets();\n    }));\n    this._listenersStore.add(this._editor.onDidChangeModelContent(() => this._cancelScheduler()));\n    this._listenersStore.add(this._editor.onDidScrollChange(e => this._onEditorScrollChanged(e)));\n  }\n  _unhookListeners() {\n    this._listenersStore.clear();\n  }\n  _cancelScheduler() {\n    this._mouseMoveEvent = undefined;\n    this._reactToEditorMouseMoveRunner.cancel();\n  }\n  _onEditorScrollChanged(e) {\n    if (e.scrollTopChanged || e.scrollLeftChanged) {\n      this._hideWidgets();\n    }\n  }\n  _onEditorMouseDown(mouseEvent) {\n    this._hoverState.mouseDown = true;\n    const shouldNotHideCurrentHoverWidget = this._shouldNotHideCurrentHoverWidget(mouseEvent);\n    if (shouldNotHideCurrentHoverWidget) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _shouldNotHideCurrentHoverWidget(mouseEvent) {\n    if (this._isMouseOnContentHoverWidget(mouseEvent) || this._isMouseOnMarginHoverWidget(mouseEvent) || this._isContentWidgetResizing()) {\n      return true;\n    }\n    return false;\n  }\n  _isMouseOnMarginHoverWidget(mouseEvent) {\n    const target = mouseEvent.target;\n    if (!target) {\n      return false;\n    }\n    return target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID;\n  }\n  _isMouseOnContentHoverWidget(mouseEvent) {\n    const target = mouseEvent.target;\n    if (!target) {\n      return false;\n    }\n    return target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID;\n  }\n  _onEditorMouseUp() {\n    this._hoverState.mouseDown = false;\n  }\n  _onEditorMouseLeave(mouseEvent) {\n    if (this.shouldKeepOpenOnEditorMouseMoveOrLeave) {\n      return;\n    }\n    this._cancelScheduler();\n    const shouldNotHideCurrentHoverWidget = this._shouldNotHideCurrentHoverWidget(mouseEvent);\n    if (shouldNotHideCurrentHoverWidget) {\n      return;\n    }\n    if (_sticky) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _shouldNotRecomputeCurrentHoverWidget(mouseEvent) {\n    const isHoverSticky = this._hoverSettings.sticky;\n    const isMouseOnStickyMarginHoverWidget = (mouseEvent, isHoverSticky) => {\n      const isMouseOnMarginHoverWidget = this._isMouseOnMarginHoverWidget(mouseEvent);\n      return isHoverSticky && isMouseOnMarginHoverWidget;\n    };\n    const isMouseOnStickyContentHoverWidget = (mouseEvent, isHoverSticky) => {\n      const isMouseOnContentHoverWidget = this._isMouseOnContentHoverWidget(mouseEvent);\n      return isHoverSticky && isMouseOnContentHoverWidget;\n    };\n    const isMouseOnColorPicker = mouseEvent => {\n      var _a;\n      const isMouseOnContentHoverWidget = this._isMouseOnContentHoverWidget(mouseEvent);\n      const isColorPickerVisible = (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n      return isMouseOnContentHoverWidget && isColorPickerVisible;\n    };\n    // TODO@aiday-mar verify if the following is necessary code\n    const isTextSelectedWithinContentHoverWidget = (mouseEvent, sticky) => {\n      var _a, _b, _c, _d;\n      return sticky && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.containsNode((_b = mouseEvent.event.browserEvent.view) === null || _b === void 0 ? void 0 : _b.document.activeElement)) && !((_d = (_c = mouseEvent.event.browserEvent.view) === null || _c === void 0 ? void 0 : _c.getSelection()) === null || _d === void 0 ? void 0 : _d.isCollapsed);\n    };\n    if (isMouseOnStickyMarginHoverWidget(mouseEvent, isHoverSticky) || isMouseOnStickyContentHoverWidget(mouseEvent, isHoverSticky) || isMouseOnColorPicker(mouseEvent) || isTextSelectedWithinContentHoverWidget(mouseEvent, isHoverSticky)) {\n      return true;\n    }\n    return false;\n  }\n  _onEditorMouseMove(mouseEvent) {\n    var _a, _b, _c, _d;\n    if (this.shouldKeepOpenOnEditorMouseMoveOrLeave) {\n      return;\n    }\n    this._mouseMoveEvent = mouseEvent;\n    if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n      return;\n    }\n    const sticky = this._hoverSettings.sticky;\n    if (sticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isVisibleFromKeyboard)) {\n      // Sticky mode is on and the hover has been shown via keyboard\n      // so moving the mouse has no effect\n      return;\n    }\n    const shouldNotRecomputeCurrentHoverWidget = this._shouldNotRecomputeCurrentHoverWidget(mouseEvent);\n    if (shouldNotRecomputeCurrentHoverWidget) {\n      this._reactToEditorMouseMoveRunner.cancel();\n      return;\n    }\n    const hidingDelay = this._hoverSettings.hidingDelay;\n    const isContentHoverWidgetVisible = (_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.isVisible;\n    // If the mouse is not over the widget, and if sticky is on,\n    // then give it a grace period before reacting to the mouse event\n    const shouldRescheduleHoverComputation = isContentHoverWidgetVisible && sticky && hidingDelay > 0;\n    if (shouldRescheduleHoverComputation) {\n      if (!this._reactToEditorMouseMoveRunner.isScheduled()) {\n        this._reactToEditorMouseMoveRunner.schedule(hidingDelay);\n      }\n      return;\n    }\n    this._reactToEditorMouseMove(mouseEvent);\n  }\n  _reactToEditorMouseMove(mouseEvent) {\n    var _a;\n    if (!mouseEvent) {\n      return;\n    }\n    const target = mouseEvent.target;\n    const mouseOnDecorator = (_a = target.element) === null || _a === void 0 ? void 0 : _a.classList.contains('colorpicker-color-decoration');\n    const decoratorActivatedOn = this._editor.getOption(148 /* EditorOption.colorDecoratorsActivatedOn */);\n    const enabled = this._hoverSettings.enabled;\n    const activatedByDecoratorClick = this._hoverState.activatedByDecoratorClick;\n    if (mouseOnDecorator && (decoratorActivatedOn === 'click' && !activatedByDecoratorClick || decoratorActivatedOn === 'hover' && !enabled && !_sticky || decoratorActivatedOn === 'clickAndHover' && !enabled && !activatedByDecoratorClick) || !mouseOnDecorator && !enabled && !activatedByDecoratorClick) {\n      this._hideWidgets();\n      return;\n    }\n    const contentHoverShowsOrWillShow = this._tryShowHoverWidget(mouseEvent, 0 /* HoverWidgetType.Content */);\n    if (contentHoverShowsOrWillShow) {\n      return;\n    }\n    const glyphWidgetShowsOrWillShow = this._tryShowHoverWidget(mouseEvent, 1 /* HoverWidgetType.Glyph */);\n    if (glyphWidgetShowsOrWillShow) {\n      return;\n    }\n    if (_sticky) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _tryShowHoverWidget(mouseEvent, hoverWidgetType) {\n    const contentWidget = this._getOrCreateContentWidget();\n    const glyphWidget = this._getOrCreateGlyphWidget();\n    let currentWidget;\n    let otherWidget;\n    switch (hoverWidgetType) {\n      case 0 /* HoverWidgetType.Content */:\n        currentWidget = contentWidget;\n        otherWidget = glyphWidget;\n        break;\n      case 1 /* HoverWidgetType.Glyph */:\n        currentWidget = glyphWidget;\n        otherWidget = contentWidget;\n        break;\n      default:\n        throw new Error(`HoverWidgetType ${hoverWidgetType} is unrecognized`);\n    }\n    const showsOrWillShow = currentWidget.showsOrWillShow(mouseEvent);\n    if (showsOrWillShow) {\n      otherWidget.hide();\n    }\n    return showsOrWillShow;\n  }\n  _onKeyDown(e) {\n    var _a;\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n    // If the beginning of a multi-chord keybinding is pressed,\n    // or the command aims to focus the hover,\n    // set the variable to true, otherwise false\n    const shouldKeepHoverVisible = resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ || resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */ && (resolvedKeyboardEvent.commandId === SHOW_OR_FOCUS_HOVER_ACTION_ID || resolvedKeyboardEvent.commandId === INCREASE_HOVER_VERBOSITY_ACTION_ID || resolvedKeyboardEvent.commandId === DECREASE_HOVER_VERBOSITY_ACTION_ID) && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible);\n    if (e.keyCode === 5 /* KeyCode.Ctrl */ || e.keyCode === 6 /* KeyCode.Alt */ || e.keyCode === 57 /* KeyCode.Meta */ || e.keyCode === 4 /* KeyCode.Shift */ || shouldKeepHoverVisible) {\n      // Do not hide hover when a modifier key is pressed\n      return;\n    }\n    this._hideWidgets();\n  }\n  _hideWidgets() {\n    var _a, _b, _c;\n    if (_sticky) {\n      return;\n    }\n    if (this._hoverState.mouseDown && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible) || InlineSuggestionHintsContentWidget.dropDownVisible) {\n      return;\n    }\n    this._hoverState.activatedByDecoratorClick = false;\n    (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n    (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n  }\n  _getOrCreateContentWidget() {\n    if (!this._contentWidget) {\n      this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n      this._listenersStore.add(this._contentWidget.onContentsChanged(() => this._onHoverContentsChanged.fire()));\n    }\n    return this._contentWidget;\n  }\n  _getOrCreateGlyphWidget() {\n    if (!this._glyphWidget) {\n      this._glyphWidget = this._instantiationService.createInstance(MarginHoverWidget, this._editor);\n    }\n    return this._glyphWidget;\n  }\n  showContentHover(range, mode, source, focus) {\n    let activatedByColorDecoratorClick = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    this._hoverState.activatedByDecoratorClick = activatedByColorDecoratorClick;\n    this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n  }\n  _isContentWidgetResizing() {\n    var _a;\n    return ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || false;\n  }\n  markdownHoverContentAtIndex(index) {\n    return this._getOrCreateContentWidget().markdownHoverContentAtIndex(index);\n  }\n  doesMarkdownHoverAtIndexSupportVerbosityAction(index, action) {\n    return this._getOrCreateContentWidget().doesMarkdownHoverAtIndexSupportVerbosityAction(index, action);\n  }\n  updateMarkdownHoverVerbosityLevel(action, index, focus) {\n    this._getOrCreateContentWidget().updateMarkdownHoverVerbosityLevel(action, index, focus);\n  }\n  focus() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n  }\n  scrollUp() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n  }\n  scrollDown() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n  }\n  scrollLeft() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n  }\n  scrollRight() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n  }\n  pageUp() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n  }\n  pageDown() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n  }\n  goToTop() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n  }\n  goToBottom() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n  }\n  get isColorPickerVisible() {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n  }\n  get isHoverVisible() {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n  }\n  dispose() {\n    var _a, _b;\n    super.dispose();\n    this._unhookListeners();\n    this._listenersStore.dispose();\n    (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n    (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n  }\n};\nHoverController.ID = 'editor.contrib.hover';\nHoverController = HoverController_1 = __decorate([__param(1, IInstantiationService), __param(2, IKeybindingService)], HoverController);\nexport { HoverController };","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","HoverController_1","DECREASE_HOVER_VERBOSITY_ACTION_ID","INCREASE_HOVER_VERBOSITY_ACTION_ID","SHOW_OR_FOCUS_HOVER_ACTION_ID","Disposable","DisposableStore","IInstantiationService","InlineSuggestionHintsContentWidget","IKeybindingService","RunOnceScheduler","ContentHoverWidget","ContentHoverController","MarginHoverWidget","Emitter","_sticky","HoverController","constructor","_editor","_instantiationService","_keybindingService","_onHoverContentsChanged","_register","shouldKeepOpenOnEditorMouseMoveOrLeave","_listenersStore","_hoverState","mouseDown","activatedByDecoratorClick","_reactToEditorMouseMoveRunner","_reactToEditorMouseMove","_mouseMoveEvent","_hookListeners","onDidChangeConfiguration","e","hasChanged","_unhookListeners","get","editor","getContribution","ID","hoverOpts","getOption","_hoverSettings","enabled","sticky","hidingDelay","delay","add","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onMouseMove","_onEditorMouseMove","onKeyDown","_onKeyDown","onMouseLeave","_onEditorMouseLeave","onDidChangeModel","_cancelScheduler","_hideWidgets","onDidChangeModelContent","onDidScrollChange","_onEditorScrollChanged","clear","undefined","cancel","scrollTopChanged","scrollLeftChanged","mouseEvent","shouldNotHideCurrentHoverWidget","_shouldNotHideCurrentHoverWidget","_isMouseOnContentHoverWidget","_isMouseOnMarginHoverWidget","_isContentWidgetResizing","type","detail","_shouldNotRecomputeCurrentHoverWidget","isHoverSticky","isMouseOnStickyMarginHoverWidget","isMouseOnMarginHoverWidget","isMouseOnStickyContentHoverWidget","isMouseOnContentHoverWidget","isMouseOnColorPicker","_a","isColorPickerVisible","_contentWidget","isTextSelectedWithinContentHoverWidget","_b","_c","_d","containsNode","event","browserEvent","view","document","activeElement","getSelection","isCollapsed","isFocused","isResizing","isVisibleFromKeyboard","shouldNotRecomputeCurrentHoverWidget","isContentHoverWidgetVisible","isVisible","shouldRescheduleHoverComputation","isScheduled","schedule","mouseOnDecorator","element","classList","contains","decoratorActivatedOn","contentHoverShowsOrWillShow","_tryShowHoverWidget","glyphWidgetShowsOrWillShow","hoverWidgetType","contentWidget","_getOrCreateContentWidget","glyphWidget","_getOrCreateGlyphWidget","currentWidget","otherWidget","Error","showsOrWillShow","hide","hasModel","resolvedKeyboardEvent","softDispatch","getDomNode","shouldKeepHoverVisible","kind","commandId","keyCode","dropDownVisible","_glyphWidget","createInstance","onContentsChanged","fire","showContentHover","range","mode","source","focus","activatedByColorDecoratorClick","startShowingAtRange","widget","markdownHoverContentAtIndex","index","doesMarkdownHoverAtIndexSupportVerbosityAction","action","updateMarkdownHoverVerbosityLevel","scrollUp","scrollDown","scrollLeft","scrollRight","pageUp","pageDown","goToTop","goToBottom","isHoverVisible","dispose"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hoverController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar HoverController_1;\nimport { DECREASE_HOVER_VERBOSITY_ACTION_ID, INCREASE_HOVER_VERBOSITY_ACTION_ID, SHOW_OR_FOCUS_HOVER_ACTION_ID } from './hoverActionIds.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { ContentHoverWidget } from './contentHoverWidget.js';\nimport { ContentHoverController } from './contentHoverController.js';\nimport './hover.css';\nimport { MarginHoverWidget } from './marginHoverWidget.js';\nimport { Emitter } from '../../../../base/common/event.js';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet HoverController = HoverController_1 = class HoverController extends Disposable {\n    constructor(_editor, _instantiationService, _keybindingService) {\n        super();\n        this._editor = _editor;\n        this._instantiationService = _instantiationService;\n        this._keybindingService = _keybindingService;\n        this._onHoverContentsChanged = this._register(new Emitter());\n        this.shouldKeepOpenOnEditorMouseMoveOrLeave = false;\n        this._listenersStore = new DisposableStore();\n        this._hoverState = {\n            mouseDown: false,\n            activatedByDecoratorClick: false\n        };\n        this._reactToEditorMouseMoveRunner = this._register(new RunOnceScheduler(() => this._reactToEditorMouseMove(this._mouseMoveEvent), 0));\n        this._hookListeners();\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(60 /* EditorOption.hover */)) {\n                this._unhookListeners();\n                this._hookListeners();\n            }\n        }));\n    }\n    static get(editor) {\n        return editor.getContribution(HoverController_1.ID);\n    }\n    _hookListeners() {\n        const hoverOpts = this._editor.getOption(60 /* EditorOption.hover */);\n        this._hoverSettings = {\n            enabled: hoverOpts.enabled,\n            sticky: hoverOpts.sticky,\n            hidingDelay: hoverOpts.delay\n        };\n        if (hoverOpts.enabled) {\n            this._listenersStore.add(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n            this._listenersStore.add(this._editor.onMouseUp(() => this._onEditorMouseUp()));\n            this._listenersStore.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._listenersStore.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        else {\n            this._listenersStore.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._listenersStore.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        this._listenersStore.add(this._editor.onMouseLeave((e) => this._onEditorMouseLeave(e)));\n        this._listenersStore.add(this._editor.onDidChangeModel(() => {\n            this._cancelScheduler();\n            this._hideWidgets();\n        }));\n        this._listenersStore.add(this._editor.onDidChangeModelContent(() => this._cancelScheduler()));\n        this._listenersStore.add(this._editor.onDidScrollChange((e) => this._onEditorScrollChanged(e)));\n    }\n    _unhookListeners() {\n        this._listenersStore.clear();\n    }\n    _cancelScheduler() {\n        this._mouseMoveEvent = undefined;\n        this._reactToEditorMouseMoveRunner.cancel();\n    }\n    _onEditorScrollChanged(e) {\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        this._hoverState.mouseDown = true;\n        const shouldNotHideCurrentHoverWidget = this._shouldNotHideCurrentHoverWidget(mouseEvent);\n        if (shouldNotHideCurrentHoverWidget) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _shouldNotHideCurrentHoverWidget(mouseEvent) {\n        if (this._isMouseOnContentHoverWidget(mouseEvent)\n            || this._isMouseOnMarginHoverWidget(mouseEvent)\n            || this._isContentWidgetResizing()) {\n            return true;\n        }\n        return false;\n    }\n    _isMouseOnMarginHoverWidget(mouseEvent) {\n        const target = mouseEvent.target;\n        if (!target) {\n            return false;\n        }\n        return target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID;\n    }\n    _isMouseOnContentHoverWidget(mouseEvent) {\n        const target = mouseEvent.target;\n        if (!target) {\n            return false;\n        }\n        return target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID;\n    }\n    _onEditorMouseUp() {\n        this._hoverState.mouseDown = false;\n    }\n    _onEditorMouseLeave(mouseEvent) {\n        if (this.shouldKeepOpenOnEditorMouseMoveOrLeave) {\n            return;\n        }\n        this._cancelScheduler();\n        const shouldNotHideCurrentHoverWidget = this._shouldNotHideCurrentHoverWidget(mouseEvent);\n        if (shouldNotHideCurrentHoverWidget) {\n            return;\n        }\n        if (_sticky) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _shouldNotRecomputeCurrentHoverWidget(mouseEvent) {\n        const isHoverSticky = this._hoverSettings.sticky;\n        const isMouseOnStickyMarginHoverWidget = (mouseEvent, isHoverSticky) => {\n            const isMouseOnMarginHoverWidget = this._isMouseOnMarginHoverWidget(mouseEvent);\n            return isHoverSticky && isMouseOnMarginHoverWidget;\n        };\n        const isMouseOnStickyContentHoverWidget = (mouseEvent, isHoverSticky) => {\n            const isMouseOnContentHoverWidget = this._isMouseOnContentHoverWidget(mouseEvent);\n            return isHoverSticky && isMouseOnContentHoverWidget;\n        };\n        const isMouseOnColorPicker = (mouseEvent) => {\n            var _a;\n            const isMouseOnContentHoverWidget = this._isMouseOnContentHoverWidget(mouseEvent);\n            const isColorPickerVisible = (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n            return isMouseOnContentHoverWidget && isColorPickerVisible;\n        };\n        // TODO@aiday-mar verify if the following is necessary code\n        const isTextSelectedWithinContentHoverWidget = (mouseEvent, sticky) => {\n            var _a, _b, _c, _d;\n            return sticky\n                && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.containsNode((_b = mouseEvent.event.browserEvent.view) === null || _b === void 0 ? void 0 : _b.document.activeElement))\n                && !((_d = (_c = mouseEvent.event.browserEvent.view) === null || _c === void 0 ? void 0 : _c.getSelection()) === null || _d === void 0 ? void 0 : _d.isCollapsed);\n        };\n        if (isMouseOnStickyMarginHoverWidget(mouseEvent, isHoverSticky)\n            || isMouseOnStickyContentHoverWidget(mouseEvent, isHoverSticky)\n            || isMouseOnColorPicker(mouseEvent)\n            || isTextSelectedWithinContentHoverWidget(mouseEvent, isHoverSticky)) {\n            return true;\n        }\n        return false;\n    }\n    _onEditorMouseMove(mouseEvent) {\n        var _a, _b, _c, _d;\n        if (this.shouldKeepOpenOnEditorMouseMoveOrLeave) {\n            return;\n        }\n        this._mouseMoveEvent = mouseEvent;\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n            return;\n        }\n        const sticky = this._hoverSettings.sticky;\n        if (sticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isVisibleFromKeyboard)) {\n            // Sticky mode is on and the hover has been shown via keyboard\n            // so moving the mouse has no effect\n            return;\n        }\n        const shouldNotRecomputeCurrentHoverWidget = this._shouldNotRecomputeCurrentHoverWidget(mouseEvent);\n        if (shouldNotRecomputeCurrentHoverWidget) {\n            this._reactToEditorMouseMoveRunner.cancel();\n            return;\n        }\n        const hidingDelay = this._hoverSettings.hidingDelay;\n        const isContentHoverWidgetVisible = (_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.isVisible;\n        // If the mouse is not over the widget, and if sticky is on,\n        // then give it a grace period before reacting to the mouse event\n        const shouldRescheduleHoverComputation = isContentHoverWidgetVisible && sticky && hidingDelay > 0;\n        if (shouldRescheduleHoverComputation) {\n            if (!this._reactToEditorMouseMoveRunner.isScheduled()) {\n                this._reactToEditorMouseMoveRunner.schedule(hidingDelay);\n            }\n            return;\n        }\n        this._reactToEditorMouseMove(mouseEvent);\n    }\n    _reactToEditorMouseMove(mouseEvent) {\n        var _a;\n        if (!mouseEvent) {\n            return;\n        }\n        const target = mouseEvent.target;\n        const mouseOnDecorator = (_a = target.element) === null || _a === void 0 ? void 0 : _a.classList.contains('colorpicker-color-decoration');\n        const decoratorActivatedOn = this._editor.getOption(148 /* EditorOption.colorDecoratorsActivatedOn */);\n        const enabled = this._hoverSettings.enabled;\n        const activatedByDecoratorClick = this._hoverState.activatedByDecoratorClick;\n        if ((mouseOnDecorator && ((decoratorActivatedOn === 'click' && !activatedByDecoratorClick) ||\n            (decoratorActivatedOn === 'hover' && !enabled && !_sticky) ||\n            (decoratorActivatedOn === 'clickAndHover' && !enabled && !activatedByDecoratorClick))) || (!mouseOnDecorator && !enabled && !activatedByDecoratorClick)) {\n            this._hideWidgets();\n            return;\n        }\n        const contentHoverShowsOrWillShow = this._tryShowHoverWidget(mouseEvent, 0 /* HoverWidgetType.Content */);\n        if (contentHoverShowsOrWillShow) {\n            return;\n        }\n        const glyphWidgetShowsOrWillShow = this._tryShowHoverWidget(mouseEvent, 1 /* HoverWidgetType.Glyph */);\n        if (glyphWidgetShowsOrWillShow) {\n            return;\n        }\n        if (_sticky) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _tryShowHoverWidget(mouseEvent, hoverWidgetType) {\n        const contentWidget = this._getOrCreateContentWidget();\n        const glyphWidget = this._getOrCreateGlyphWidget();\n        let currentWidget;\n        let otherWidget;\n        switch (hoverWidgetType) {\n            case 0 /* HoverWidgetType.Content */:\n                currentWidget = contentWidget;\n                otherWidget = glyphWidget;\n                break;\n            case 1 /* HoverWidgetType.Glyph */:\n                currentWidget = glyphWidget;\n                otherWidget = contentWidget;\n                break;\n            default:\n                throw new Error(`HoverWidgetType ${hoverWidgetType} is unrecognized`);\n        }\n        const showsOrWillShow = currentWidget.showsOrWillShow(mouseEvent);\n        if (showsOrWillShow) {\n            otherWidget.hide();\n        }\n        return showsOrWillShow;\n    }\n    _onKeyDown(e) {\n        var _a;\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n        // If the beginning of a multi-chord keybinding is pressed,\n        // or the command aims to focus the hover,\n        // set the variable to true, otherwise false\n        const shouldKeepHoverVisible = (resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ ||\n            (resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */\n                && (resolvedKeyboardEvent.commandId === SHOW_OR_FOCUS_HOVER_ACTION_ID\n                    || resolvedKeyboardEvent.commandId === INCREASE_HOVER_VERBOSITY_ACTION_ID\n                    || resolvedKeyboardEvent.commandId === DECREASE_HOVER_VERBOSITY_ACTION_ID)\n                && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible)));\n        if (e.keyCode === 5 /* KeyCode.Ctrl */\n            || e.keyCode === 6 /* KeyCode.Alt */\n            || e.keyCode === 57 /* KeyCode.Meta */\n            || e.keyCode === 4 /* KeyCode.Shift */\n            || shouldKeepHoverVisible) {\n            // Do not hide hover when a modifier key is pressed\n            return;\n        }\n        this._hideWidgets();\n    }\n    _hideWidgets() {\n        var _a, _b, _c;\n        if (_sticky) {\n            return;\n        }\n        if ((this._hoverState.mouseDown\n            && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible)) || InlineSuggestionHintsContentWidget.dropDownVisible) {\n            return;\n        }\n        this._hoverState.activatedByDecoratorClick = false;\n        (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n        (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n    }\n    _getOrCreateContentWidget() {\n        if (!this._contentWidget) {\n            this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n            this._listenersStore.add(this._contentWidget.onContentsChanged(() => this._onHoverContentsChanged.fire()));\n        }\n        return this._contentWidget;\n    }\n    _getOrCreateGlyphWidget() {\n        if (!this._glyphWidget) {\n            this._glyphWidget = this._instantiationService.createInstance(MarginHoverWidget, this._editor);\n        }\n        return this._glyphWidget;\n    }\n    showContentHover(range, mode, source, focus, activatedByColorDecoratorClick = false) {\n        this._hoverState.activatedByDecoratorClick = activatedByColorDecoratorClick;\n        this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n    }\n    _isContentWidgetResizing() {\n        var _a;\n        return ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || false;\n    }\n    markdownHoverContentAtIndex(index) {\n        return this._getOrCreateContentWidget().markdownHoverContentAtIndex(index);\n    }\n    doesMarkdownHoverAtIndexSupportVerbosityAction(index, action) {\n        return this._getOrCreateContentWidget().doesMarkdownHoverAtIndexSupportVerbosityAction(index, action);\n    }\n    updateMarkdownHoverVerbosityLevel(action, index, focus) {\n        this._getOrCreateContentWidget().updateMarkdownHoverVerbosityLevel(action, index, focus);\n    }\n    focus() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    scrollUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n    }\n    scrollDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n    }\n    scrollLeft() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n    }\n    scrollRight() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n    }\n    pageUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n    }\n    pageDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n    }\n    goToTop() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n    }\n    goToBottom() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n    }\n    get isColorPickerVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n    }\n    get isHoverVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n    }\n    dispose() {\n        var _a, _b;\n        super.dispose();\n        this._unhookListeners();\n        this._listenersStore.dispose();\n        (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n    }\n};\nHoverController.ID = 'editor.contrib.hover';\nHoverController = HoverController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService)\n], HoverController);\nexport { HoverController };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}