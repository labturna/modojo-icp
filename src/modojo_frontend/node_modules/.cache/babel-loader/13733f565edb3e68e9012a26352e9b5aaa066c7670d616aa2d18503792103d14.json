{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar ParameterHintsWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters } from '../../../../base/common/strings.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport './parameterHints.css';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { listHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nconst $ = dom.$;\nconst parameterHintsNextIcon = registerIcon('parameter-hints-next', Codicon.chevronDown, nls.localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));\nconst parameterHintsPreviousIcon = registerIcon('parameter-hints-previous', Codicon.chevronUp, nls.localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));\nlet ParameterHintsWidget = ParameterHintsWidget_1 = class ParameterHintsWidget extends Disposable {\n  constructor(editor, model, contextKeyService, openerService, languageService, telemetryService) {\n    super();\n    this.editor = editor;\n    this.model = model;\n    this.telemetryService = telemetryService;\n    this.renderDisposeables = this._register(new DisposableStore());\n    this.visible = false;\n    this.announcedLabel = null;\n    // Editor.IContentWidget.allowEditorOverflow\n    this.allowEditorOverflow = true;\n    this.markdownRenderer = this._register(new MarkdownRenderer({\n      editor\n    }, languageService, openerService));\n    this.keyVisible = Context.Visible.bindTo(contextKeyService);\n    this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\n  }\n  createParameterHintDOMNodes() {\n    const element = $('.editor-widget.parameter-hints-widget');\n    const wrapper = dom.append(element, $('.phwrapper'));\n    wrapper.tabIndex = -1;\n    const controls = dom.append(wrapper, $('.controls'));\n    const previous = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsPreviousIcon)));\n    const overloads = dom.append(controls, $('.overloads'));\n    const next = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsNextIcon)));\n    this._register(dom.addDisposableListener(previous, 'click', e => {\n      dom.EventHelper.stop(e);\n      this.previous();\n    }));\n    this._register(dom.addDisposableListener(next, 'click', e => {\n      dom.EventHelper.stop(e);\n      this.next();\n    }));\n    const body = $('.body');\n    const scrollbar = new DomScrollableElement(body, {\n      alwaysConsumeMouseWheel: true\n    });\n    this._register(scrollbar);\n    wrapper.appendChild(scrollbar.getDomNode());\n    const signature = dom.append(body, $('.signature'));\n    const docs = dom.append(body, $('.docs'));\n    element.style.userSelect = 'text';\n    this.domNodes = {\n      element,\n      signature,\n      overloads,\n      docs,\n      scrollbar\n    };\n    this.editor.addContentWidget(this);\n    this.hide();\n    this._register(this.editor.onDidChangeCursorSelection(e => {\n      if (this.visible) {\n        this.editor.layoutContentWidget(this);\n      }\n    }));\n    const updateFont = () => {\n      if (!this.domNodes) {\n        return;\n      }\n      const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n      this.domNodes.element.style.fontSize = `${fontInfo.fontSize}px`;\n      this.domNodes.element.style.lineHeight = `${fontInfo.lineHeight / fontInfo.fontSize}`;\n    };\n    updateFont();\n    this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor), $ => $.filter(e => e.hasChanged(50 /* EditorOption.fontInfo */)))(updateFont));\n    this._register(this.editor.onDidLayoutChange(e => this.updateMaxHeight()));\n    this.updateMaxHeight();\n  }\n  show() {\n    if (this.visible) {\n      return;\n    }\n    if (!this.domNodes) {\n      this.createParameterHintDOMNodes();\n    }\n    this.keyVisible.set(true);\n    this.visible = true;\n    setTimeout(() => {\n      var _a;\n      (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.add('visible');\n    }, 100);\n    this.editor.layoutContentWidget(this);\n  }\n  hide() {\n    var _a;\n    this.renderDisposeables.clear();\n    if (!this.visible) {\n      return;\n    }\n    this.keyVisible.reset();\n    this.visible = false;\n    this.announcedLabel = null;\n    (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.remove('visible');\n    this.editor.layoutContentWidget(this);\n  }\n  getPosition() {\n    if (this.visible) {\n      return {\n        position: this.editor.getPosition(),\n        preference: [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */]\n      };\n    }\n    return null;\n  }\n  render(hints) {\n    var _a;\n    this.renderDisposeables.clear();\n    if (!this.domNodes) {\n      return;\n    }\n    const multiple = hints.signatures.length > 1;\n    this.domNodes.element.classList.toggle('multiple', multiple);\n    this.keyMultipleSignatures.set(multiple);\n    this.domNodes.signature.innerText = '';\n    this.domNodes.docs.innerText = '';\n    const signature = hints.signatures[hints.activeSignature];\n    if (!signature) {\n      return;\n    }\n    const code = dom.append(this.domNodes.signature, $('.code'));\n    const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n    code.style.fontSize = `${fontInfo.fontSize}px`;\n    code.style.fontFamily = fontInfo.fontFamily;\n    const hasParameters = signature.parameters.length > 0;\n    const activeParameterIndex = (_a = signature.activeParameter) !== null && _a !== void 0 ? _a : hints.activeParameter;\n    if (!hasParameters) {\n      const label = dom.append(code, $('span'));\n      label.textContent = signature.label;\n    } else {\n      this.renderParameters(code, signature, activeParameterIndex);\n    }\n    const activeParameter = signature.parameters[activeParameterIndex];\n    if (activeParameter === null || activeParameter === void 0 ? void 0 : activeParameter.documentation) {\n      const documentation = $('span.documentation');\n      if (typeof activeParameter.documentation === 'string') {\n        documentation.textContent = activeParameter.documentation;\n      } else {\n        const renderedContents = this.renderMarkdownDocs(activeParameter.documentation);\n        documentation.appendChild(renderedContents.element);\n      }\n      dom.append(this.domNodes.docs, $('p', {}, documentation));\n    }\n    if (signature.documentation === undefined) {\n      /** no op */\n    } else if (typeof signature.documentation === 'string') {\n      dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\n    } else {\n      const renderedContents = this.renderMarkdownDocs(signature.documentation);\n      dom.append(this.domNodes.docs, renderedContents.element);\n    }\n    const hasDocs = this.hasDocs(signature, activeParameter);\n    this.domNodes.signature.classList.toggle('has-docs', hasDocs);\n    this.domNodes.docs.classList.toggle('empty', !hasDocs);\n    this.domNodes.overloads.textContent = String(hints.activeSignature + 1).padStart(hints.signatures.length.toString().length, '0') + '/' + hints.signatures.length;\n    if (activeParameter) {\n      let labelToAnnounce = '';\n      const param = signature.parameters[activeParameterIndex];\n      if (Array.isArray(param.label)) {\n        labelToAnnounce = signature.label.substring(param.label[0], param.label[1]);\n      } else {\n        labelToAnnounce = param.label;\n      }\n      if (param.documentation) {\n        labelToAnnounce += typeof param.documentation === 'string' ? `, ${param.documentation}` : `, ${param.documentation.value}`;\n      }\n      if (signature.documentation) {\n        labelToAnnounce += typeof signature.documentation === 'string' ? `, ${signature.documentation}` : `, ${signature.documentation.value}`;\n      }\n      // Select method gets called on every user type while parameter hints are visible.\n      // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n      if (this.announcedLabel !== labelToAnnounce) {\n        aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n        this.announcedLabel = labelToAnnounce;\n      }\n    }\n    this.editor.layoutContentWidget(this);\n    this.domNodes.scrollbar.scanDomNode();\n  }\n  renderMarkdownDocs(markdown) {\n    const stopWatch = new StopWatch();\n    const renderedContents = this.renderDisposeables.add(this.markdownRenderer.render(markdown, {\n      asyncRenderCallback: () => {\n        var _a;\n        (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.scrollbar.scanDomNode();\n      }\n    }));\n    renderedContents.element.classList.add('markdown-docs');\n    const renderDuration = stopWatch.elapsed();\n    if (renderDuration > 300) {\n      this.telemetryService.publicLog2('parameterHints.parseMarkdown', {\n        renderDuration\n      });\n    }\n    return renderedContents;\n  }\n  hasDocs(signature, activeParameter) {\n    if (activeParameter && typeof activeParameter.documentation === 'string' && assertIsDefined(activeParameter.documentation).length > 0) {\n      return true;\n    }\n    if (activeParameter && typeof activeParameter.documentation === 'object' && assertIsDefined(activeParameter.documentation).value.length > 0) {\n      return true;\n    }\n    if (signature.documentation && typeof signature.documentation === 'string' && assertIsDefined(signature.documentation).length > 0) {\n      return true;\n    }\n    if (signature.documentation && typeof signature.documentation === 'object' && assertIsDefined(signature.documentation.value).length > 0) {\n      return true;\n    }\n    return false;\n  }\n  renderParameters(parent, signature, activeParameterIndex) {\n    const [start, end] = this.getParameterLabelOffsets(signature, activeParameterIndex);\n    const beforeSpan = document.createElement('span');\n    beforeSpan.textContent = signature.label.substring(0, start);\n    const paramSpan = document.createElement('span');\n    paramSpan.textContent = signature.label.substring(start, end);\n    paramSpan.className = 'parameter active';\n    const afterSpan = document.createElement('span');\n    afterSpan.textContent = signature.label.substring(end);\n    dom.append(parent, beforeSpan, paramSpan, afterSpan);\n  }\n  getParameterLabelOffsets(signature, paramIdx) {\n    const param = signature.parameters[paramIdx];\n    if (!param) {\n      return [0, 0];\n    } else if (Array.isArray(param.label)) {\n      return param.label;\n    } else if (!param.label.length) {\n      return [0, 0];\n    } else {\n      const regex = new RegExp(`(\\\\W|^)${escapeRegExpCharacters(param.label)}(?=\\\\W|$)`, 'g');\n      regex.test(signature.label);\n      const idx = regex.lastIndex - param.label.length;\n      return idx >= 0 ? [idx, regex.lastIndex] : [0, 0];\n    }\n  }\n  next() {\n    this.editor.focus();\n    this.model.next();\n  }\n  previous() {\n    this.editor.focus();\n    this.model.previous();\n  }\n  getDomNode() {\n    if (!this.domNodes) {\n      this.createParameterHintDOMNodes();\n    }\n    return this.domNodes.element;\n  }\n  getId() {\n    return ParameterHintsWidget_1.ID;\n  }\n  updateMaxHeight() {\n    if (!this.domNodes) {\n      return;\n    }\n    const height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\n    const maxHeight = `${height}px`;\n    this.domNodes.element.style.maxHeight = maxHeight;\n    const wrapper = this.domNodes.element.getElementsByClassName('phwrapper');\n    if (wrapper.length) {\n      wrapper[0].style.maxHeight = maxHeight;\n    }\n  }\n};\nParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\nParameterHintsWidget = ParameterHintsWidget_1 = __decorate([__param(2, IContextKeyService), __param(3, IOpenerService), __param(4, ILanguageService), __param(5, ITelemetryService)], ParameterHintsWidget);\nexport { ParameterHintsWidget };\nregisterColor('editorHoverWidget.highlightForeground', {\n  dark: listHighlightForeground,\n  light: listHighlightForeground,\n  hcDark: listHighlightForeground,\n  hcLight: listHighlightForeground\n}, nls.localize('editorHoverWidgetHighlightForeground', 'Foreground color of the active item in the parameter hint.'));","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ParameterHintsWidget_1","dom","aria","DomScrollableElement","Codicon","Event","Disposable","DisposableStore","escapeRegExpCharacters","assertIsDefined","ILanguageService","MarkdownRenderer","Context","nls","IContextKeyService","IOpenerService","listHighlightForeground","registerColor","registerIcon","ThemeIcon","StopWatch","ITelemetryService","$","parameterHintsNextIcon","chevronDown","localize","parameterHintsPreviousIcon","chevronUp","ParameterHintsWidget","constructor","editor","model","contextKeyService","openerService","languageService","telemetryService","renderDisposeables","_register","visible","announcedLabel","allowEditorOverflow","markdownRenderer","keyVisible","Visible","bindTo","keyMultipleSignatures","MultipleSignatures","createParameterHintDOMNodes","element","wrapper","append","tabIndex","controls","previous","asCSSSelector","overloads","next","addDisposableListener","e","EventHelper","stop","body","scrollbar","alwaysConsumeMouseWheel","appendChild","getDomNode","signature","docs","style","userSelect","domNodes","addContentWidget","hide","onDidChangeCursorSelection","layoutContentWidget","updateFont","fontInfo","getOption","fontSize","lineHeight","chain","onDidChangeConfiguration","bind","filter","hasChanged","onDidLayoutChange","updateMaxHeight","show","set","setTimeout","_a","classList","add","clear","reset","remove","getPosition","position","preference","render","hints","multiple","signatures","toggle","innerText","activeSignature","code","fontFamily","hasParameters","parameters","activeParameterIndex","activeParameter","label","textContent","renderParameters","documentation","renderedContents","renderMarkdownDocs","undefined","hasDocs","String","padStart","toString","labelToAnnounce","param","Array","isArray","substring","value","alert","scanDomNode","markdown","stopWatch","asyncRenderCallback","renderDuration","elapsed","publicLog2","parent","start","end","getParameterLabelOffsets","beforeSpan","document","createElement","paramSpan","className","afterSpan","paramIdx","regex","RegExp","test","idx","lastIndex","focus","getId","ID","height","Math","max","getLayoutInfo","maxHeight","getElementsByClassName","dark","light","hcDark","hcLight"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters } from '../../../../base/common/strings.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport './parameterHints.css';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { listHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nconst $ = dom.$;\nconst parameterHintsNextIcon = registerIcon('parameter-hints-next', Codicon.chevronDown, nls.localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));\nconst parameterHintsPreviousIcon = registerIcon('parameter-hints-previous', Codicon.chevronUp, nls.localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));\nlet ParameterHintsWidget = ParameterHintsWidget_1 = class ParameterHintsWidget extends Disposable {\n    constructor(editor, model, contextKeyService, openerService, languageService, telemetryService) {\n        super();\n        this.editor = editor;\n        this.model = model;\n        this.telemetryService = telemetryService;\n        this.renderDisposeables = this._register(new DisposableStore());\n        this.visible = false;\n        this.announcedLabel = null;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.markdownRenderer = this._register(new MarkdownRenderer({ editor }, languageService, openerService));\n        this.keyVisible = Context.Visible.bindTo(contextKeyService);\n        this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\n    }\n    createParameterHintDOMNodes() {\n        const element = $('.editor-widget.parameter-hints-widget');\n        const wrapper = dom.append(element, $('.phwrapper'));\n        wrapper.tabIndex = -1;\n        const controls = dom.append(wrapper, $('.controls'));\n        const previous = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsPreviousIcon)));\n        const overloads = dom.append(controls, $('.overloads'));\n        const next = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsNextIcon)));\n        this._register(dom.addDisposableListener(previous, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.previous();\n        }));\n        this._register(dom.addDisposableListener(next, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.next();\n        }));\n        const body = $('.body');\n        const scrollbar = new DomScrollableElement(body, {\n            alwaysConsumeMouseWheel: true,\n        });\n        this._register(scrollbar);\n        wrapper.appendChild(scrollbar.getDomNode());\n        const signature = dom.append(body, $('.signature'));\n        const docs = dom.append(body, $('.docs'));\n        element.style.userSelect = 'text';\n        this.domNodes = {\n            element,\n            signature,\n            overloads,\n            docs,\n            scrollbar,\n        };\n        this.editor.addContentWidget(this);\n        this.hide();\n        this._register(this.editor.onDidChangeCursorSelection(e => {\n            if (this.visible) {\n                this.editor.layoutContentWidget(this);\n            }\n        }));\n        const updateFont = () => {\n            if (!this.domNodes) {\n                return;\n            }\n            const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n            this.domNodes.element.style.fontSize = `${fontInfo.fontSize}px`;\n            this.domNodes.element.style.lineHeight = `${fontInfo.lineHeight / fontInfo.fontSize}`;\n        };\n        updateFont();\n        this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor), $ => $.filter(e => e.hasChanged(50 /* EditorOption.fontInfo */)))(updateFont));\n        this._register(this.editor.onDidLayoutChange(e => this.updateMaxHeight()));\n        this.updateMaxHeight();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        this.keyVisible.set(true);\n        this.visible = true;\n        setTimeout(() => {\n            var _a;\n            (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.add('visible');\n        }, 100);\n        this.editor.layoutContentWidget(this);\n    }\n    hide() {\n        var _a;\n        this.renderDisposeables.clear();\n        if (!this.visible) {\n            return;\n        }\n        this.keyVisible.reset();\n        this.visible = false;\n        this.announcedLabel = null;\n        (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.remove('visible');\n        this.editor.layoutContentWidget(this);\n    }\n    getPosition() {\n        if (this.visible) {\n            return {\n                position: this.editor.getPosition(),\n                preference: [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */]\n            };\n        }\n        return null;\n    }\n    render(hints) {\n        var _a;\n        this.renderDisposeables.clear();\n        if (!this.domNodes) {\n            return;\n        }\n        const multiple = hints.signatures.length > 1;\n        this.domNodes.element.classList.toggle('multiple', multiple);\n        this.keyMultipleSignatures.set(multiple);\n        this.domNodes.signature.innerText = '';\n        this.domNodes.docs.innerText = '';\n        const signature = hints.signatures[hints.activeSignature];\n        if (!signature) {\n            return;\n        }\n        const code = dom.append(this.domNodes.signature, $('.code'));\n        const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n        code.style.fontSize = `${fontInfo.fontSize}px`;\n        code.style.fontFamily = fontInfo.fontFamily;\n        const hasParameters = signature.parameters.length > 0;\n        const activeParameterIndex = (_a = signature.activeParameter) !== null && _a !== void 0 ? _a : hints.activeParameter;\n        if (!hasParameters) {\n            const label = dom.append(code, $('span'));\n            label.textContent = signature.label;\n        }\n        else {\n            this.renderParameters(code, signature, activeParameterIndex);\n        }\n        const activeParameter = signature.parameters[activeParameterIndex];\n        if (activeParameter === null || activeParameter === void 0 ? void 0 : activeParameter.documentation) {\n            const documentation = $('span.documentation');\n            if (typeof activeParameter.documentation === 'string') {\n                documentation.textContent = activeParameter.documentation;\n            }\n            else {\n                const renderedContents = this.renderMarkdownDocs(activeParameter.documentation);\n                documentation.appendChild(renderedContents.element);\n            }\n            dom.append(this.domNodes.docs, $('p', {}, documentation));\n        }\n        if (signature.documentation === undefined) {\n            /** no op */\n        }\n        else if (typeof signature.documentation === 'string') {\n            dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\n        }\n        else {\n            const renderedContents = this.renderMarkdownDocs(signature.documentation);\n            dom.append(this.domNodes.docs, renderedContents.element);\n        }\n        const hasDocs = this.hasDocs(signature, activeParameter);\n        this.domNodes.signature.classList.toggle('has-docs', hasDocs);\n        this.domNodes.docs.classList.toggle('empty', !hasDocs);\n        this.domNodes.overloads.textContent =\n            String(hints.activeSignature + 1).padStart(hints.signatures.length.toString().length, '0') + '/' + hints.signatures.length;\n        if (activeParameter) {\n            let labelToAnnounce = '';\n            const param = signature.parameters[activeParameterIndex];\n            if (Array.isArray(param.label)) {\n                labelToAnnounce = signature.label.substring(param.label[0], param.label[1]);\n            }\n            else {\n                labelToAnnounce = param.label;\n            }\n            if (param.documentation) {\n                labelToAnnounce += typeof param.documentation === 'string' ? `, ${param.documentation}` : `, ${param.documentation.value}`;\n            }\n            if (signature.documentation) {\n                labelToAnnounce += typeof signature.documentation === 'string' ? `, ${signature.documentation}` : `, ${signature.documentation.value}`;\n            }\n            // Select method gets called on every user type while parameter hints are visible.\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n            if (this.announcedLabel !== labelToAnnounce) {\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n                this.announcedLabel = labelToAnnounce;\n            }\n        }\n        this.editor.layoutContentWidget(this);\n        this.domNodes.scrollbar.scanDomNode();\n    }\n    renderMarkdownDocs(markdown) {\n        const stopWatch = new StopWatch();\n        const renderedContents = this.renderDisposeables.add(this.markdownRenderer.render(markdown, {\n            asyncRenderCallback: () => {\n                var _a;\n                (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.scrollbar.scanDomNode();\n            }\n        }));\n        renderedContents.element.classList.add('markdown-docs');\n        const renderDuration = stopWatch.elapsed();\n        if (renderDuration > 300) {\n            this.telemetryService.publicLog2('parameterHints.parseMarkdown', {\n                renderDuration\n            });\n        }\n        return renderedContents;\n    }\n    hasDocs(signature, activeParameter) {\n        if (activeParameter && typeof activeParameter.documentation === 'string' && assertIsDefined(activeParameter.documentation).length > 0) {\n            return true;\n        }\n        if (activeParameter && typeof activeParameter.documentation === 'object' && assertIsDefined(activeParameter.documentation).value.length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'string' && assertIsDefined(signature.documentation).length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'object' && assertIsDefined(signature.documentation.value).length > 0) {\n            return true;\n        }\n        return false;\n    }\n    renderParameters(parent, signature, activeParameterIndex) {\n        const [start, end] = this.getParameterLabelOffsets(signature, activeParameterIndex);\n        const beforeSpan = document.createElement('span');\n        beforeSpan.textContent = signature.label.substring(0, start);\n        const paramSpan = document.createElement('span');\n        paramSpan.textContent = signature.label.substring(start, end);\n        paramSpan.className = 'parameter active';\n        const afterSpan = document.createElement('span');\n        afterSpan.textContent = signature.label.substring(end);\n        dom.append(parent, beforeSpan, paramSpan, afterSpan);\n    }\n    getParameterLabelOffsets(signature, paramIdx) {\n        const param = signature.parameters[paramIdx];\n        if (!param) {\n            return [0, 0];\n        }\n        else if (Array.isArray(param.label)) {\n            return param.label;\n        }\n        else if (!param.label.length) {\n            return [0, 0];\n        }\n        else {\n            const regex = new RegExp(`(\\\\W|^)${escapeRegExpCharacters(param.label)}(?=\\\\W|$)`, 'g');\n            regex.test(signature.label);\n            const idx = regex.lastIndex - param.label.length;\n            return idx >= 0\n                ? [idx, regex.lastIndex]\n                : [0, 0];\n        }\n    }\n    next() {\n        this.editor.focus();\n        this.model.next();\n    }\n    previous() {\n        this.editor.focus();\n        this.model.previous();\n    }\n    getDomNode() {\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        return this.domNodes.element;\n    }\n    getId() {\n        return ParameterHintsWidget_1.ID;\n    }\n    updateMaxHeight() {\n        if (!this.domNodes) {\n            return;\n        }\n        const height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\n        const maxHeight = `${height}px`;\n        this.domNodes.element.style.maxHeight = maxHeight;\n        const wrapper = this.domNodes.element.getElementsByClassName('phwrapper');\n        if (wrapper.length) {\n            wrapper[0].style.maxHeight = maxHeight;\n        }\n    }\n};\nParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\nParameterHintsWidget = ParameterHintsWidget_1 = __decorate([\n    __param(2, IContextKeyService),\n    __param(3, IOpenerService),\n    __param(4, ILanguageService),\n    __param(5, ITelemetryService)\n], ParameterHintsWidget);\nexport { ParameterHintsWidget };\nregisterColor('editorHoverWidget.highlightForeground', { dark: listHighlightForeground, light: listHighlightForeground, hcDark: listHighlightForeground, hcLight: listHighlightForeground }, nls.localize('editorHoverWidgetHighlightForeground', 'Foreground color of the active item in the parameter hint.'));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}