{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './lineNumbers.css';\nimport * as platform from '../../../../base/common/platform.js';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { editorDimmedLineNumber, editorLineNumbers } from '../../../common/core/editorColorRegistry.js';\nexport class LineNumbersOverlay extends DynamicViewOverlay {\n  constructor(context) {\n    super();\n    this._context = context;\n    this._readConfig();\n    this._lastCursorModelPosition = new Position(1, 1);\n    this._renderResult = null;\n    this._activeLineNumber = 1;\n    this._context.addEventHandler(this);\n  }\n  _readConfig() {\n    const options = this._context.configuration.options;\n    this._lineHeight = options.get(67 /* EditorOption.lineHeight */);\n    const lineNumbers = options.get(68 /* EditorOption.lineNumbers */);\n    this._renderLineNumbers = lineNumbers.renderType;\n    this._renderCustomLineNumbers = lineNumbers.renderFn;\n    this._renderFinalNewline = options.get(95 /* EditorOption.renderFinalNewline */);\n    const layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n    this._lineNumbersLeft = layoutInfo.lineNumbersLeft;\n    this._lineNumbersWidth = layoutInfo.lineNumbersWidth;\n  }\n  dispose() {\n    this._context.removeEventHandler(this);\n    this._renderResult = null;\n    super.dispose();\n  }\n  // --- begin event handlers\n  onConfigurationChanged(e) {\n    this._readConfig();\n    return true;\n  }\n  onCursorStateChanged(e) {\n    const primaryViewPosition = e.selections[0].getPosition();\n    this._lastCursorModelPosition = this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(primaryViewPosition);\n    let shouldRender = false;\n    if (this._activeLineNumber !== primaryViewPosition.lineNumber) {\n      this._activeLineNumber = primaryViewPosition.lineNumber;\n      shouldRender = true;\n    }\n    if (this._renderLineNumbers === 2 /* RenderLineNumbersType.Relative */ || this._renderLineNumbers === 3 /* RenderLineNumbersType.Interval */) {\n      shouldRender = true;\n    }\n    return shouldRender;\n  }\n  onFlushed(e) {\n    return true;\n  }\n  onLinesChanged(e) {\n    return true;\n  }\n  onLinesDeleted(e) {\n    return true;\n  }\n  onLinesInserted(e) {\n    return true;\n  }\n  onScrollChanged(e) {\n    return e.scrollTopChanged;\n  }\n  onZonesChanged(e) {\n    return true;\n  }\n  onDecorationsChanged(e) {\n    return e.affectsLineNumber;\n  }\n  // --- end event handlers\n  _getLineRenderLineNumber(viewLineNumber) {\n    const modelPosition = this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(viewLineNumber, 1));\n    if (modelPosition.column !== 1) {\n      return '';\n    }\n    const modelLineNumber = modelPosition.lineNumber;\n    if (this._renderCustomLineNumbers) {\n      return this._renderCustomLineNumbers(modelLineNumber);\n    }\n    if (this._renderLineNumbers === 2 /* RenderLineNumbersType.Relative */) {\n      const diff = Math.abs(this._lastCursorModelPosition.lineNumber - modelLineNumber);\n      if (diff === 0) {\n        return '<span class=\"relative-current-line-number\">' + modelLineNumber + '</span>';\n      }\n      return String(diff);\n    }\n    if (this._renderLineNumbers === 3 /* RenderLineNumbersType.Interval */) {\n      if (this._lastCursorModelPosition.lineNumber === modelLineNumber) {\n        return String(modelLineNumber);\n      }\n      if (modelLineNumber % 10 === 0) {\n        return String(modelLineNumber);\n      }\n      const finalLineNumber = this._context.viewModel.getLineCount();\n      if (modelLineNumber === finalLineNumber) {\n        return String(modelLineNumber);\n      }\n      return '';\n    }\n    return String(modelLineNumber);\n  }\n  prepareRender(ctx) {\n    if (this._renderLineNumbers === 0 /* RenderLineNumbersType.Off */) {\n      this._renderResult = null;\n      return;\n    }\n    const lineHeightClassName = platform.isLinux ? this._lineHeight % 2 === 0 ? ' lh-even' : ' lh-odd' : '';\n    const visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n    const visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n    const lineNoDecorations = this._context.viewModel.getDecorationsInViewport(ctx.visibleRange).filter(d => !!d.options.lineNumberClassName);\n    lineNoDecorations.sort((a, b) => Range.compareRangesUsingEnds(a.range, b.range));\n    let decorationStartIndex = 0;\n    const lineCount = this._context.viewModel.getLineCount();\n    const output = [];\n    for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n      const lineIndex = lineNumber - visibleStartLineNumber;\n      let renderLineNumber = this._getLineRenderLineNumber(lineNumber);\n      let extraClassNames = '';\n      // skip decorations whose end positions we've already passed\n      while (decorationStartIndex < lineNoDecorations.length && lineNoDecorations[decorationStartIndex].range.endLineNumber < lineNumber) {\n        decorationStartIndex++;\n      }\n      for (let i = decorationStartIndex; i < lineNoDecorations.length; i++) {\n        const {\n          range,\n          options\n        } = lineNoDecorations[i];\n        if (range.startLineNumber <= lineNumber) {\n          extraClassNames += ' ' + options.lineNumberClassName;\n        }\n      }\n      if (!renderLineNumber && !extraClassNames) {\n        output[lineIndex] = '';\n        continue;\n      }\n      if (lineNumber === lineCount && this._context.viewModel.getLineLength(lineNumber) === 0) {\n        // this is the last line\n        if (this._renderFinalNewline === 'off') {\n          renderLineNumber = '';\n        }\n        if (this._renderFinalNewline === 'dimmed') {\n          extraClassNames += ' dimmed-line-number';\n        }\n      }\n      if (lineNumber === this._activeLineNumber) {\n        extraClassNames += ' active-line-number';\n      }\n      output[lineIndex] = `<div class=\"${LineNumbersOverlay.CLASS_NAME}${lineHeightClassName}${extraClassNames}\" style=\"left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;\">${renderLineNumber}</div>`;\n    }\n    this._renderResult = output;\n  }\n  render(startLineNumber, lineNumber) {\n    if (!this._renderResult) {\n      return '';\n    }\n    const lineIndex = lineNumber - startLineNumber;\n    if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n      return '';\n    }\n    return this._renderResult[lineIndex];\n  }\n}\nLineNumbersOverlay.CLASS_NAME = 'line-numbers';\nregisterThemingParticipant((theme, collector) => {\n  const editorLineNumbersColor = theme.getColor(editorLineNumbers);\n  const editorDimmedLineNumberColor = theme.getColor(editorDimmedLineNumber);\n  if (editorDimmedLineNumberColor) {\n    collector.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${editorDimmedLineNumberColor}; }`);\n  } else if (editorLineNumbersColor) {\n    collector.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${editorLineNumbersColor.transparent(0.4)}; }`);\n  }\n});","map":{"version":3,"names":["platform","DynamicViewOverlay","Position","Range","registerThemingParticipant","editorDimmedLineNumber","editorLineNumbers","LineNumbersOverlay","constructor","context","_context","_readConfig","_lastCursorModelPosition","_renderResult","_activeLineNumber","addEventHandler","options","configuration","_lineHeight","get","lineNumbers","_renderLineNumbers","renderType","_renderCustomLineNumbers","renderFn","_renderFinalNewline","layoutInfo","_lineNumbersLeft","lineNumbersLeft","_lineNumbersWidth","lineNumbersWidth","dispose","removeEventHandler","onConfigurationChanged","e","onCursorStateChanged","primaryViewPosition","selections","getPosition","viewModel","coordinatesConverter","convertViewPositionToModelPosition","shouldRender","lineNumber","onFlushed","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","scrollTopChanged","onZonesChanged","onDecorationsChanged","affectsLineNumber","_getLineRenderLineNumber","viewLineNumber","modelPosition","column","modelLineNumber","diff","Math","abs","String","finalLineNumber","getLineCount","prepareRender","ctx","lineHeightClassName","isLinux","visibleStartLineNumber","visibleRange","startLineNumber","visibleEndLineNumber","endLineNumber","lineNoDecorations","getDecorationsInViewport","filter","d","lineNumberClassName","sort","a","b","compareRangesUsingEnds","range","decorationStartIndex","lineCount","output","lineIndex","renderLineNumber","extraClassNames","length","i","getLineLength","CLASS_NAME","render","theme","collector","editorLineNumbersColor","getColor","editorDimmedLineNumberColor","addRule","transparent"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/lineNumbers/lineNumbers.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './lineNumbers.css';\nimport * as platform from '../../../../base/common/platform.js';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { editorDimmedLineNumber, editorLineNumbers } from '../../../common/core/editorColorRegistry.js';\nexport class LineNumbersOverlay extends DynamicViewOverlay {\n    constructor(context) {\n        super();\n        this._context = context;\n        this._readConfig();\n        this._lastCursorModelPosition = new Position(1, 1);\n        this._renderResult = null;\n        this._activeLineNumber = 1;\n        this._context.addEventHandler(this);\n    }\n    _readConfig() {\n        const options = this._context.configuration.options;\n        this._lineHeight = options.get(67 /* EditorOption.lineHeight */);\n        const lineNumbers = options.get(68 /* EditorOption.lineNumbers */);\n        this._renderLineNumbers = lineNumbers.renderType;\n        this._renderCustomLineNumbers = lineNumbers.renderFn;\n        this._renderFinalNewline = options.get(95 /* EditorOption.renderFinalNewline */);\n        const layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n        this._lineNumbersLeft = layoutInfo.lineNumbersLeft;\n        this._lineNumbersWidth = layoutInfo.lineNumbersWidth;\n    }\n    dispose() {\n        this._context.removeEventHandler(this);\n        this._renderResult = null;\n        super.dispose();\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        this._readConfig();\n        return true;\n    }\n    onCursorStateChanged(e) {\n        const primaryViewPosition = e.selections[0].getPosition();\n        this._lastCursorModelPosition = this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(primaryViewPosition);\n        let shouldRender = false;\n        if (this._activeLineNumber !== primaryViewPosition.lineNumber) {\n            this._activeLineNumber = primaryViewPosition.lineNumber;\n            shouldRender = true;\n        }\n        if (this._renderLineNumbers === 2 /* RenderLineNumbersType.Relative */ || this._renderLineNumbers === 3 /* RenderLineNumbersType.Interval */) {\n            shouldRender = true;\n        }\n        return shouldRender;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLinesChanged(e) {\n        return true;\n    }\n    onLinesDeleted(e) {\n        return true;\n    }\n    onLinesInserted(e) {\n        return true;\n    }\n    onScrollChanged(e) {\n        return e.scrollTopChanged;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    onDecorationsChanged(e) {\n        return e.affectsLineNumber;\n    }\n    // --- end event handlers\n    _getLineRenderLineNumber(viewLineNumber) {\n        const modelPosition = this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(viewLineNumber, 1));\n        if (modelPosition.column !== 1) {\n            return '';\n        }\n        const modelLineNumber = modelPosition.lineNumber;\n        if (this._renderCustomLineNumbers) {\n            return this._renderCustomLineNumbers(modelLineNumber);\n        }\n        if (this._renderLineNumbers === 2 /* RenderLineNumbersType.Relative */) {\n            const diff = Math.abs(this._lastCursorModelPosition.lineNumber - modelLineNumber);\n            if (diff === 0) {\n                return '<span class=\"relative-current-line-number\">' + modelLineNumber + '</span>';\n            }\n            return String(diff);\n        }\n        if (this._renderLineNumbers === 3 /* RenderLineNumbersType.Interval */) {\n            if (this._lastCursorModelPosition.lineNumber === modelLineNumber) {\n                return String(modelLineNumber);\n            }\n            if (modelLineNumber % 10 === 0) {\n                return String(modelLineNumber);\n            }\n            const finalLineNumber = this._context.viewModel.getLineCount();\n            if (modelLineNumber === finalLineNumber) {\n                return String(modelLineNumber);\n            }\n            return '';\n        }\n        return String(modelLineNumber);\n    }\n    prepareRender(ctx) {\n        if (this._renderLineNumbers === 0 /* RenderLineNumbersType.Off */) {\n            this._renderResult = null;\n            return;\n        }\n        const lineHeightClassName = (platform.isLinux ? (this._lineHeight % 2 === 0 ? ' lh-even' : ' lh-odd') : '');\n        const visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n        const visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n        const lineNoDecorations = this._context.viewModel.getDecorationsInViewport(ctx.visibleRange).filter(d => !!d.options.lineNumberClassName);\n        lineNoDecorations.sort((a, b) => Range.compareRangesUsingEnds(a.range, b.range));\n        let decorationStartIndex = 0;\n        const lineCount = this._context.viewModel.getLineCount();\n        const output = [];\n        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n            const lineIndex = lineNumber - visibleStartLineNumber;\n            let renderLineNumber = this._getLineRenderLineNumber(lineNumber);\n            let extraClassNames = '';\n            // skip decorations whose end positions we've already passed\n            while (decorationStartIndex < lineNoDecorations.length && lineNoDecorations[decorationStartIndex].range.endLineNumber < lineNumber) {\n                decorationStartIndex++;\n            }\n            for (let i = decorationStartIndex; i < lineNoDecorations.length; i++) {\n                const { range, options } = lineNoDecorations[i];\n                if (range.startLineNumber <= lineNumber) {\n                    extraClassNames += ' ' + options.lineNumberClassName;\n                }\n            }\n            if (!renderLineNumber && !extraClassNames) {\n                output[lineIndex] = '';\n                continue;\n            }\n            if (lineNumber === lineCount && this._context.viewModel.getLineLength(lineNumber) === 0) {\n                // this is the last line\n                if (this._renderFinalNewline === 'off') {\n                    renderLineNumber = '';\n                }\n                if (this._renderFinalNewline === 'dimmed') {\n                    extraClassNames += ' dimmed-line-number';\n                }\n            }\n            if (lineNumber === this._activeLineNumber) {\n                extraClassNames += ' active-line-number';\n            }\n            output[lineIndex] = (`<div class=\"${LineNumbersOverlay.CLASS_NAME}${lineHeightClassName}${extraClassNames}\" style=\"left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;\">${renderLineNumber}</div>`);\n        }\n        this._renderResult = output;\n    }\n    render(startLineNumber, lineNumber) {\n        if (!this._renderResult) {\n            return '';\n        }\n        const lineIndex = lineNumber - startLineNumber;\n        if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n            return '';\n        }\n        return this._renderResult[lineIndex];\n    }\n}\nLineNumbersOverlay.CLASS_NAME = 'line-numbers';\nregisterThemingParticipant((theme, collector) => {\n    const editorLineNumbersColor = theme.getColor(editorLineNumbers);\n    const editorDimmedLineNumberColor = theme.getColor(editorDimmedLineNumber);\n    if (editorDimmedLineNumberColor) {\n        collector.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${editorDimmedLineNumberColor}; }`);\n    }\n    else if (editorLineNumbersColor) {\n        collector.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${editorLineNumbersColor.transparent(0.4)}; }`);\n    }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}