{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { addStandardDisposableListener, isHTMLElement } from '../../../base/browser/dom.js';\nexport const IHoverService = createDecorator('hoverService');\nlet WorkbenchHoverDelegate = class WorkbenchHoverDelegate extends Disposable {\n  get delay() {\n    if (this.isInstantlyHovering()) {\n      return 0; // show instantly when a hover was recently shown\n    }\n    return this._delay;\n  }\n  constructor(placement, instantHover) {\n    let overrideOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let configurationService = arguments.length > 3 ? arguments[3] : undefined;\n    let hoverService = arguments.length > 4 ? arguments[4] : undefined;\n    super();\n    this.placement = placement;\n    this.instantHover = instantHover;\n    this.overrideOptions = overrideOptions;\n    this.configurationService = configurationService;\n    this.hoverService = hoverService;\n    this.lastHoverHideTime = 0;\n    this.timeLimit = 200;\n    this.hoverDisposables = this._register(new DisposableStore());\n    this._delay = this.configurationService.getValue('workbench.hover.delay');\n    this._register(this.configurationService.onDidChangeConfiguration(e => {\n      if (e.affectsConfiguration('workbench.hover.delay')) {\n        this._delay = this.configurationService.getValue('workbench.hover.delay');\n      }\n    }));\n  }\n  showHover(options, focus) {\n    const overrideOptions = typeof this.overrideOptions === 'function' ? this.overrideOptions(options, focus) : this.overrideOptions;\n    // close hover on escape\n    this.hoverDisposables.clear();\n    const targets = isHTMLElement(options.target) ? [options.target] : options.target.targetElements;\n    for (const target of targets) {\n      this.hoverDisposables.add(addStandardDisposableListener(target, 'keydown', e => {\n        if (e.equals(9 /* KeyCode.Escape */)) {\n          this.hoverService.hideHover();\n        }\n      }));\n    }\n    const id = isHTMLElement(options.content) ? undefined : options.content.toString();\n    return this.hoverService.showHover({\n      ...options,\n      ...overrideOptions,\n      persistence: {\n        hideOnKeyDown: true,\n        ...overrideOptions.persistence\n      },\n      id,\n      appearance: {\n        ...options.appearance,\n        compact: true,\n        skipFadeInAnimation: this.isInstantlyHovering(),\n        ...overrideOptions.appearance\n      }\n    }, focus);\n  }\n  isInstantlyHovering() {\n    return this.instantHover && Date.now() - this.lastHoverHideTime < this.timeLimit;\n  }\n  onDidHideHover() {\n    this.hoverDisposables.clear();\n    if (this.instantHover) {\n      this.lastHoverHideTime = Date.now();\n    }\n  }\n};\nWorkbenchHoverDelegate = __decorate([__param(3, IConfigurationService), __param(4, IHoverService)], WorkbenchHoverDelegate);\nexport { WorkbenchHoverDelegate };\n// TODO@benibenj remove this, only temp fix for contextviews\nexport const nativeHoverDelegate = {\n  showHover: function () {\n    throw new Error('Native hover function not implemented.');\n  },\n  delay: 0,\n  showNativeHover: true\n};","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","createDecorator","Disposable","DisposableStore","IConfigurationService","addStandardDisposableListener","isHTMLElement","IHoverService","WorkbenchHoverDelegate","delay","isInstantlyHovering","_delay","constructor","placement","instantHover","overrideOptions","undefined","configurationService","hoverService","lastHoverHideTime","timeLimit","hoverDisposables","_register","getValue","onDidChangeConfiguration","e","affectsConfiguration","showHover","options","focus","clear","targets","targetElements","add","equals","hideHover","id","content","toString","persistence","hideOnKeyDown","appearance","compact","skipFadeInAnimation","Date","now","onDidHideHover","nativeHoverDelegate","Error","showNativeHover"],"sources":["/home/arslan/modojo/node_modules/monaco-editor/esm/vs/platform/hover/browser/hover.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { addStandardDisposableListener, isHTMLElement } from '../../../base/browser/dom.js';\nexport const IHoverService = createDecorator('hoverService');\nlet WorkbenchHoverDelegate = class WorkbenchHoverDelegate extends Disposable {\n    get delay() {\n        if (this.isInstantlyHovering()) {\n            return 0; // show instantly when a hover was recently shown\n        }\n        return this._delay;\n    }\n    constructor(placement, instantHover, overrideOptions = {}, configurationService, hoverService) {\n        super();\n        this.placement = placement;\n        this.instantHover = instantHover;\n        this.overrideOptions = overrideOptions;\n        this.configurationService = configurationService;\n        this.hoverService = hoverService;\n        this.lastHoverHideTime = 0;\n        this.timeLimit = 200;\n        this.hoverDisposables = this._register(new DisposableStore());\n        this._delay = this.configurationService.getValue('workbench.hover.delay');\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration('workbench.hover.delay')) {\n                this._delay = this.configurationService.getValue('workbench.hover.delay');\n            }\n        }));\n    }\n    showHover(options, focus) {\n        const overrideOptions = typeof this.overrideOptions === 'function' ? this.overrideOptions(options, focus) : this.overrideOptions;\n        // close hover on escape\n        this.hoverDisposables.clear();\n        const targets = isHTMLElement(options.target) ? [options.target] : options.target.targetElements;\n        for (const target of targets) {\n            this.hoverDisposables.add(addStandardDisposableListener(target, 'keydown', (e) => {\n                if (e.equals(9 /* KeyCode.Escape */)) {\n                    this.hoverService.hideHover();\n                }\n            }));\n        }\n        const id = isHTMLElement(options.content) ? undefined : options.content.toString();\n        return this.hoverService.showHover({\n            ...options,\n            ...overrideOptions,\n            persistence: {\n                hideOnKeyDown: true,\n                ...overrideOptions.persistence\n            },\n            id,\n            appearance: {\n                ...options.appearance,\n                compact: true,\n                skipFadeInAnimation: this.isInstantlyHovering(),\n                ...overrideOptions.appearance\n            }\n        }, focus);\n    }\n    isInstantlyHovering() {\n        return this.instantHover && Date.now() - this.lastHoverHideTime < this.timeLimit;\n    }\n    onDidHideHover() {\n        this.hoverDisposables.clear();\n        if (this.instantHover) {\n            this.lastHoverHideTime = Date.now();\n        }\n    }\n};\nWorkbenchHoverDelegate = __decorate([\n    __param(3, IConfigurationService),\n    __param(4, IHoverService)\n], WorkbenchHoverDelegate);\nexport { WorkbenchHoverDelegate };\n// TODO@benibenj remove this, only temp fix for contextviews\nexport const nativeHoverDelegate = {\n    showHover: function () {\n        throw new Error('Native hover function not implemented.');\n    },\n    delay: 0,\n    showNativeHover: true\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}