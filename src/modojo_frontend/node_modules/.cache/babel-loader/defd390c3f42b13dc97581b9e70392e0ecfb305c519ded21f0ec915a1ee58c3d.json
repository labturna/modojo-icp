{"ast":null,"code":"export class InputBox {\n  constructor(idl, ui) {\n    this.idl = idl;\n    this.ui = ui;\n    this.label = null;\n    this.value = undefined;\n    const status = document.createElement('span');\n    status.className = 'status';\n    this.status = status;\n    if (ui.input) {\n      ui.input.addEventListener('blur', () => {\n        if (ui.input.value === '') {\n          return;\n        }\n        this.parse();\n      });\n      ui.input.addEventListener('input', () => {\n        status.style.display = 'none';\n        ui.input.classList.remove('reject');\n      });\n    }\n  }\n  isRejected() {\n    return this.value === undefined;\n  }\n  parse() {\n    let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (this.ui.form) {\n      const value = this.ui.form.parse(config);\n      this.value = value;\n      return value;\n    }\n    if (this.ui.input) {\n      const input = this.ui.input;\n      try {\n        const value = this.ui.parse(this.idl, config, input.value);\n        if (!this.idl.covariant(value)) {\n          throw new Error(`${input.value} is not of type ${this.idl.display()}`);\n        }\n        this.status.style.display = 'none';\n        this.value = value;\n        return value;\n      } catch (err) {\n        input.classList.add('reject');\n        this.status.style.display = 'block';\n        this.status.innerHTML = 'InputError: ' + err.message;\n        this.value = undefined;\n        return undefined;\n      }\n    }\n    return null;\n  }\n  render(dom) {\n    const container = document.createElement('span');\n    if (this.label) {\n      const label = document.createElement('label');\n      label.innerText = this.label;\n      container.appendChild(label);\n    }\n    if (this.ui.input) {\n      container.appendChild(this.ui.input);\n      container.appendChild(this.status);\n    }\n    if (this.ui.form) {\n      this.ui.form.render(container);\n    }\n    dom.appendChild(container);\n  }\n}\nexport class InputForm {\n  constructor(ui) {\n    this.ui = ui;\n    this.form = [];\n  }\n  renderForm(dom) {\n    if (this.ui.container) {\n      this.form.forEach(e => e.render(this.ui.container));\n      dom.appendChild(this.ui.container);\n    } else {\n      this.form.forEach(e => e.render(dom));\n    }\n  }\n  render(dom) {\n    if (this.ui.open && this.ui.event) {\n      dom.appendChild(this.ui.open);\n      const form = this;\n      // eslint-disable-next-line\n      form.ui.open.addEventListener(form.ui.event, () => {\n        // Remove old form\n        if (form.ui.container) {\n          form.ui.container.innerHTML = '';\n        } else {\n          const oldContainer = form.ui.open.nextElementSibling;\n          if (oldContainer) {\n            oldContainer.parentNode.removeChild(oldContainer);\n          }\n        }\n        // Render form\n        form.generateForm();\n        form.renderForm(dom);\n      });\n    } else {\n      this.generateForm();\n      this.renderForm(dom);\n    }\n  }\n}\nexport class RecordForm extends InputForm {\n  constructor(fields, ui) {\n    super(ui);\n    this.fields = fields;\n    this.ui = ui;\n  }\n  generateForm() {\n    this.form = this.fields.map(_ref => {\n      let [key, type] = _ref;\n      const input = this.ui.render(type);\n      // eslint-disable-next-line\n      if (this.ui.labelMap && this.ui.labelMap.hasOwnProperty(key)) {\n        input.label = this.ui.labelMap[key] + ' ';\n      } else {\n        input.label = key + ' ';\n      }\n      return input;\n    });\n  }\n  parse(config) {\n    const v = {};\n    this.fields.forEach((_ref2, i) => {\n      let [key, _] = _ref2;\n      const value = this.form[i].parse(config);\n      v[key] = value;\n    });\n    if (this.form.some(input => input.isRejected())) {\n      return undefined;\n    }\n    return v;\n  }\n}\nexport class TupleForm extends InputForm {\n  constructor(components, ui) {\n    super(ui);\n    this.components = components;\n    this.ui = ui;\n  }\n  generateForm() {\n    this.form = this.components.map(type => {\n      const input = this.ui.render(type);\n      return input;\n    });\n  }\n  parse(config) {\n    const v = [];\n    this.components.forEach((_, i) => {\n      const value = this.form[i].parse(config);\n      v.push(value);\n    });\n    if (this.form.some(input => input.isRejected())) {\n      return undefined;\n    }\n    return v;\n  }\n}\nexport class VariantForm extends InputForm {\n  constructor(fields, ui) {\n    super(ui);\n    this.fields = fields;\n    this.ui = ui;\n  }\n  generateForm() {\n    const index = this.ui.open.selectedIndex;\n    const [_, type] = this.fields[index];\n    const variant = this.ui.render(type);\n    this.form = [variant];\n  }\n  parse(config) {\n    const select = this.ui.open;\n    const selected = select.options[select.selectedIndex].value;\n    const value = this.form[0].parse(config);\n    if (value === undefined) {\n      return undefined;\n    }\n    const v = {};\n    v[selected] = value;\n    return v;\n  }\n}\nexport class OptionForm extends InputForm {\n  constructor(ty, ui) {\n    super(ui);\n    this.ty = ty;\n    this.ui = ui;\n  }\n  generateForm() {\n    if (this.ui.open.checked) {\n      const opt = this.ui.render(this.ty);\n      this.form = [opt];\n    } else {\n      this.form = [];\n    }\n  }\n  parse(config) {\n    if (this.form.length === 0) {\n      return [];\n    } else {\n      const value = this.form[0].parse(config);\n      if (value === undefined) {\n        return undefined;\n      }\n      return [value];\n    }\n  }\n}\nexport class VecForm extends InputForm {\n  constructor(ty, ui) {\n    super(ui);\n    this.ty = ty;\n    this.ui = ui;\n  }\n  generateForm() {\n    const len = +this.ui.open.value;\n    this.form = [];\n    for (let i = 0; i < len; i++) {\n      const t = this.ui.render(this.ty);\n      this.form.push(t);\n    }\n  }\n  parse(config) {\n    const value = this.form.map(input => {\n      return input.parse(config);\n    });\n    if (this.form.some(input => input.isRejected())) {\n      return undefined;\n    }\n    return value;\n  }\n}","map":{"version":3,"names":["InputBox","constructor","idl","ui","label","value","undefined","status","document","createElement","className","input","addEventListener","parse","style","display","classList","remove","isRejected","config","arguments","length","form","covariant","Error","err","add","innerHTML","message","render","dom","container","innerText","appendChild","InputForm","renderForm","forEach","e","open","event","oldContainer","nextElementSibling","parentNode","removeChild","generateForm","RecordForm","fields","map","_ref","key","type","labelMap","hasOwnProperty","v","_ref2","i","_","some","TupleForm","components","push","VariantForm","index","selectedIndex","variant","select","selected","options","OptionForm","ty","checked","opt","VecForm","len","t"],"sources":["/home/arslan/modojo/node_modules/@dfinity/candid/src/candid-core.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/no-this-alias */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as IDL from './idl';\n\nexport interface ParseConfig {\n  random?: boolean;\n}\n\nexport interface UIConfig {\n  input?: HTMLElement;\n  form?: InputForm;\n  parse(t: IDL.Type, config: ParseConfig, v: string): any;\n}\n\nexport interface FormConfig {\n  open?: HTMLElement;\n  event?: string;\n  labelMap?: Record<string, string>;\n  container?: HTMLElement;\n  render(t: IDL.Type): InputBox;\n}\n\nexport class InputBox {\n  public status: HTMLElement;\n  public label: string | null = null;\n  public value: any = undefined;\n\n  constructor(public idl: IDL.Type, public ui: UIConfig) {\n    const status = document.createElement('span');\n    status.className = 'status';\n    this.status = status;\n\n    if (ui.input) {\n      ui.input.addEventListener('blur', () => {\n        if ((ui.input as HTMLInputElement).value === '') {\n          return;\n        }\n        this.parse();\n      });\n      ui.input.addEventListener('input', () => {\n        status.style.display = 'none';\n        ui.input!.classList.remove('reject');\n      });\n    }\n  }\n  public isRejected(): boolean {\n    return this.value === undefined;\n  }\n\n  public parse(config: ParseConfig = {}): any {\n    if (this.ui.form) {\n      const value = this.ui.form.parse(config);\n      this.value = value;\n      return value;\n    }\n\n    if (this.ui.input) {\n      const input = this.ui.input as HTMLInputElement;\n      try {\n        const value = this.ui.parse(this.idl, config, input.value);\n        if (!this.idl.covariant(value)) {\n          throw new Error(`${input.value} is not of type ${this.idl.display()}`);\n        }\n        this.status.style.display = 'none';\n        this.value = value;\n        return value;\n      } catch (err) {\n        input.classList.add('reject');\n        this.status.style.display = 'block';\n        this.status.innerHTML = 'InputError: ' + (err as Error).message;\n        this.value = undefined;\n        return undefined;\n      }\n    }\n    return null;\n  }\n  public render(dom: HTMLElement): void {\n    const container = document.createElement('span');\n    if (this.label) {\n      const label = document.createElement('label');\n      label.innerText = this.label;\n      container.appendChild(label);\n    }\n    if (this.ui.input) {\n      container.appendChild(this.ui.input);\n      container.appendChild(this.status);\n    }\n\n    if (this.ui.form) {\n      this.ui.form.render(container);\n    }\n    dom.appendChild(container);\n  }\n}\n\nexport abstract class InputForm {\n  public form: InputBox[] = [];\n  constructor(public ui: FormConfig) {}\n\n  public abstract parse(config: ParseConfig): any;\n  public abstract generateForm(): any;\n  public renderForm(dom: HTMLElement): void {\n    if (this.ui.container) {\n      this.form.forEach(e => e.render(this.ui.container!));\n      dom.appendChild(this.ui.container);\n    } else {\n      this.form.forEach(e => e.render(dom));\n    }\n  }\n  public render(dom: HTMLElement): void {\n    if (this.ui.open && this.ui.event) {\n      dom.appendChild(this.ui.open);\n      const form = this;\n      // eslint-disable-next-line\n      form.ui.open!.addEventListener(form.ui.event!, () => {\n        // Remove old form\n        if (form.ui.container) {\n          form.ui.container.innerHTML = '';\n        } else {\n          const oldContainer = form.ui.open!.nextElementSibling;\n          if (oldContainer) {\n            oldContainer.parentNode!.removeChild(oldContainer);\n          }\n        }\n        // Render form\n        form.generateForm();\n        form.renderForm(dom);\n      });\n    } else {\n      this.generateForm();\n      this.renderForm(dom);\n    }\n  }\n}\n\nexport class RecordForm extends InputForm {\n  constructor(public fields: Array<[string, IDL.Type]>, public ui: FormConfig) {\n    super(ui);\n  }\n  public generateForm(): void {\n    this.form = this.fields.map(([key, type]) => {\n      const input = this.ui.render(type);\n      // eslint-disable-next-line\n      if (this.ui.labelMap && this.ui.labelMap.hasOwnProperty(key)) {\n        input.label = this.ui.labelMap[key] + ' ';\n      } else {\n        input.label = key + ' ';\n      }\n      return input;\n    });\n  }\n  public parse(config: ParseConfig): Record<string, any> | undefined {\n    const v: Record<string, any> = {};\n    this.fields.forEach(([key, _], i) => {\n      const value = this.form[i].parse(config);\n      v[key] = value;\n    });\n    if (this.form.some(input => input.isRejected())) {\n      return undefined;\n    }\n    return v;\n  }\n}\n\nexport class TupleForm extends InputForm {\n  constructor(public components: IDL.Type[], public ui: FormConfig) {\n    super(ui);\n  }\n  public generateForm(): void {\n    this.form = this.components.map(type => {\n      const input = this.ui.render(type);\n      return input;\n    });\n  }\n  public parse(config: ParseConfig): any[] | undefined {\n    const v: any[] = [];\n    this.components.forEach((_, i) => {\n      const value = this.form[i].parse(config);\n      v.push(value);\n    });\n    if (this.form.some(input => input.isRejected())) {\n      return undefined;\n    }\n    return v;\n  }\n}\n\nexport class VariantForm extends InputForm {\n  constructor(public fields: Array<[string, IDL.Type]>, public ui: FormConfig) {\n    super(ui);\n  }\n  public generateForm(): void {\n    const index = (this.ui.open as HTMLSelectElement).selectedIndex;\n    const [_, type] = this.fields[index];\n    const variant = this.ui.render(type);\n    this.form = [variant];\n  }\n  public parse(config: ParseConfig): Record<string, any> | undefined {\n    const select = this.ui.open as HTMLSelectElement;\n    const selected = select.options[select.selectedIndex].value;\n    const value = this.form[0].parse(config);\n    if (value === undefined) {\n      return undefined;\n    }\n    const v: Record<string, any> = {};\n    v[selected] = value;\n    return v;\n  }\n}\n\nexport class OptionForm extends InputForm {\n  constructor(public ty: IDL.Type, public ui: FormConfig) {\n    super(ui);\n  }\n  public generateForm(): void {\n    if ((this.ui.open as HTMLInputElement).checked) {\n      const opt = this.ui.render(this.ty);\n      this.form = [opt];\n    } else {\n      this.form = [];\n    }\n  }\n  public parse<T>(config: ParseConfig): [T] | [] | undefined {\n    if (this.form.length === 0) {\n      return [];\n    } else {\n      const value = this.form[0].parse(config);\n      if (value === undefined) {\n        return undefined;\n      }\n      return [value];\n    }\n  }\n}\n\nexport class VecForm extends InputForm {\n  constructor(public ty: IDL.Type, public ui: FormConfig) {\n    super(ui);\n  }\n  public generateForm(): void {\n    const len = +(this.ui.open as HTMLInputElement).value;\n    this.form = [];\n    for (let i = 0; i < len; i++) {\n      const t = this.ui.render(this.ty);\n      this.form.push(t);\n    }\n  }\n  public parse<T>(config: ParseConfig): T[] | undefined {\n    const value = this.form.map(input => {\n      return input.parse(config);\n    });\n    if (this.form.some(input => input.isRejected())) {\n      return undefined;\n    }\n    return value;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}